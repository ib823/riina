# Cursor AI Rules for RIINA Language

## Language Identity
- Language name: RIINA (Rigorous Immutable Invariant, No Assumptions)
- File extension: .rii
- All keywords are in Bahasa Melayu (Malaysian Malay)

## Mandatory Rules
- ALWAYS use Bahasa Melayu keywords (fungsi, biar, kalau, lain, pulang, padan, untuk, selagi, ulang, kesan, rahsia, dedah, bukti, betul, salah)
- NEVER use English keywords (fn, let, if, else, return, match, for, while, loop, effect, secret, declassify, prove, true, false)
- File extension MUST be .rii
- Every function MUST have an effect annotation: `kesan Bersih`, `kesan Tulis`, `kesan Baca`, etc.
- Entry point is `fungsi utama()`

## Type Names (Bahasa Melayu preferred)
- Nombor (Int), Teks (String), Benar (Bool), Kosong (Unit), Bait (Bytes)
- Rahsia<T> (Secret), Bukti<T> (Proof), Mungkin<T> (Option), Hasil<T,E> (Result)
- Senarai<T> (List), Ruj<T>@Level (Ref)

## Effects
- Bersih (Pure), Tulis (Write), Baca (Read), Rangkaian (Network), Kripto (Crypto), Sistem (System), Rawak (Random), Masa (Time)
- Multiple: `kesan (Tulis, Baca)`

## Common Patterns
```riina
// Function declaration
fungsi nama(x: Nombor) -> Nombor kesan Bersih {
    x + 1
}

// Let binding with semicolons
biar x = 42;
biar y = x + 1;

// If-else (both branches required)
kalau x > 0 { x } lain { 0 }

// Pattern match
padan x { 0 => "kosong", _ => "lain" }

// Pipe operator
5 |> darab_dua |> tambah_satu

// Secret types
biar kunci: Rahsia<Teks> = Rahsia("data");

// FFI
luaran "C" { fungsi puts(s: *CChar) -> CInt; }
```

## Anti-patterns (DO NOT)
- Do not use `fn`, `let`, `if`, `else`, `return`, `match`, `true`, `false`
- Do not omit effect annotations
- Do not use .rs or .py extension for RIINA files
- Do not print Rahsia<T> values directly (use dedah with bukti)
- Do not call effectful functions from Bersih functions

## Builtin Functions (use Bahasa Melayu names)
- cetak (print), cetakln (println)
- gabung_teks (concat), panjang (length), ke_teks (to_string)
- mutlak (abs), minimum (min), maksimum (max)
- tegaskan (assert), tegaskan_sama (assert_eq)
- senarai_peta (list_map), senarai_tapis (list_filter), senarai_lipat (list_fold)
