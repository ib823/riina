-- Copyright (c) 2026 The RIINA Authors. All rights reserved.

/-!
# RIINA TypeSafety - Lean 4 Port

Auto-generated port of 02_FORMAL/coq/type_system/TypeSafety.v (2 theorems).

Generated by scripts/generate-multiprover.py

## Correspondence Table

| Coq Definition | Lean Definition | Status |
|----------------|-----------------|--------|
| stuck | stuck | OK |
| type_safety | type_safety | OK |
| multi_step_safety | multi_step_safety | OK |
-/

namespace RIINA

/-- stuck (matches Coq: Definition stuck) -/
def stuck (cfg : expr * store * effect_ctx) : Prop :=
  let '(e, st, ctx) := cfg in
  ~ value e /\ ~ exists cfg', cfg --> cfg'

/-- type_safety (matches Coq) -/
theorem type_safety : ∀ e T ε st ctx Σ, has_type nil Σ Public e T ε → store_wf Σ st → ~ stuck (e, st, ctx) := by
  simp_all [Bool.and_eq_true]

/-- Multi-step safety: well-typed terms stay well-typed after any
    number of steps. This is a direct consequence of preservation. -/
/-- multi_step_safety (matches Coq) -/
theorem multi_step_safety : ∀ e e' T ε st st' ctx ctx' Σ, has_type nil Σ Public e T ε → store_wf Σ st → (e, st, ctx) -->* (e', st', ctx') → ∃ Σ', store_wf Σ' st' ∧ ~ stuck (e', st', ctx') := by
  simp_all [Bool.and_eq_true]

end RIINA
