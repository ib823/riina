(* Copyright (c) 2026 The RIINA Authors. All rights reserved. *)

(*
 * RIINA EffectGate - Isabelle/HOL Port
 *
 * Auto-generated port of 02_FORMAL/coq/effects/EffectGate.v (1 theorems).
 *
 * Generated by scripts/generate-multiprover.py
 *
 * Correspondence Table:
 *
 * | Coq Definition     | Isabelle Definition    | Status |
 * |--------------------|------------------------|--------|
 * | is_gate            | is_gate                | OK     |
 * | gate_enforcement   | gate_enforcement       | OK     |
 *)

theory EffectGate
  imports Main
begin

(* is_gate (matches Coq: Definition is_gate) *)
definition is_gate :: "effect \<Rightarrow> expr \<Rightarrow> bool" where
  "is_gate eff e_gate \<equiv> (* Conceptual definition:
     For any expression e that performs 'eff',
     embedding it in e_gate traps or handles the effect"

(* gate_enforcement (matches Coq) *)
lemma gate_enforcement: "\<forall> G S D e T eff_allowed eff_used, has_type_full G S D e T eff_used \<longrightarrow> effect_level eff_used \<le> effect_level eff_allowed \<longrightarrow> performs_within e eff_allowed"
  by auto

end
