; SPDX-License-Identifier: MPL-2.0
; Copyright (c) 2026 The RIINA Authors.
; Auto-generated from 02_FORMAL/coq/domains/KeyLifecycle.v (25 validations)
; Generated by scripts/generate-full-stack.py
;
; Translation Validation for KeyLifecycle
; Layer 9: Verifies compiler backend preserves formal semantics.
; Each assertion checks source IR â‰¡ target code for a proven property.

(set-logic QF_LIA)
(set-option :produce-models true)

; IR node representation
(declare-sort IRNode 0)
(declare-sort TargetNode 0)

; entropy_sufficient: source semantics (matches Coq)
(declare-fun source_entropy_sufficient () Bool)
(declare-fun target_entropy_sufficient () Bool)
(assert (= source_entropy_sufficient target_entropy_sufficient))

; is_usable_state: source semantics (matches Coq)
(declare-fun source_is_usable_state () Bool)
(declare-fun target_is_usable_state () Bool)
(assert (= source_is_usable_state target_is_usable_state))

; valid_transition: source semantics (matches Coq)
(declare-fun source_valid_transition () Bool)
(declare-fun target_valid_transition () Bool)
(assert (= source_valid_transition target_valid_transition))

; key_not_expired: source semantics (matches Coq)
(declare-fun source_key_not_expired () Bool)
(declare-fun target_key_not_expired () Bool)
(assert (= source_key_not_expired target_key_not_expired))

; rotation_valid: source semantics (matches Coq)
(declare-fun source_rotation_valid () Bool)
(declare-fun target_rotation_valid () Bool)
(assert (= source_rotation_valid target_rotation_valid))

; rotation_after_creation: source semantics (matches Coq)
(declare-fun source_rotation_after_creation () Bool)
(declare-fun target_rotation_after_creation () Bool)
(assert (= source_rotation_after_creation target_rotation_after_creation))

; destruction_verified: source semantics (matches Coq)
(declare-fun source_destruction_verified () Bool)
(declare-fun target_destruction_verified () Bool)
(assert (= source_destruction_verified target_destruction_verified))

; escrow_threshold_valid: source semantics (matches Coq)
(declare-fun source_escrow_threshold_valid () Bool)
(declare-fun target_escrow_threshold_valid () Bool)
(assert (= source_escrow_threshold_valid target_escrow_threshold_valid))

; escrow_share_index_valid: source semantics (matches Coq)
(declare-fun source_escrow_share_index_valid () Bool)
(declare-fun target_escrow_share_index_valid () Bool)
(assert (= source_escrow_share_index_valid target_escrow_share_index_valid))

; destruction_method_valid: source semantics (matches Coq)
(declare-fun source_destruction_method_valid () Bool)
(declare-fun target_destruction_method_valid () Bool)
(assert (= source_destruction_method_valid target_destruction_method_valid))

; symmetric_key_size_ok: source semantics (matches Coq)
(declare-fun source_symmetric_key_size_ok () Bool)
(declare-fun target_symmetric_key_size_ok () Bool)
(assert (= source_symmetric_key_size_ok target_symmetric_key_size_ok))

; asymmetric_key_size_ok: source semantics (matches Coq)
(declare-fun source_asymmetric_key_size_ok () Bool)
(declare-fun target_asymmetric_key_size_ok () Bool)
(assert (= source_asymmetric_key_size_ok target_asymmetric_key_size_ok))

; purpose_matches: source semantics (matches Coq)
(declare-fun source_purpose_matches () Bool)
(declare-fun target_purpose_matches () Bool)
(assert (= source_purpose_matches target_purpose_matches))

; lifetime_ok: source semantics (matches Coq)
(declare-fun source_lifetime_ok () Bool)
(declare-fun target_lifetime_ok () Bool)
(assert (= source_lifetime_ok target_lifetime_ok))

; rotation_due: source semantics (matches Coq)
(declare-fun source_rotation_due () Bool)
(declare-fun target_rotation_due () Bool)
(assert (= source_rotation_due target_rotation_due))

; derivation_depth_ok: source semantics (matches Coq)
(declare-fun source_derivation_depth_ok () Bool)
(declare-fun target_derivation_depth_ok () Bool)
(assert (= source_derivation_depth_ok target_derivation_depth_ok))

; access_allowed: source semantics (matches Coq)
(declare-fun source_access_allowed () Bool)
(declare-fun target_access_allowed () Bool)
(assert (= source_access_allowed target_access_allowed))

; hsm_stored: source semantics (matches Coq)
(declare-fun source_hsm_stored () Bool)
(declare-fun target_hsm_stored () Bool)
(assert (= source_hsm_stored target_hsm_stored))

; audit_complete: source semantics (matches Coq)
(declare-fun source_audit_complete () Bool)
(declare-fun target_audit_complete () Bool)
(assert (= source_audit_complete target_audit_complete))

; backup_encrypted: source semantics (matches Coq)
(declare-fun source_backup_encrypted () Bool)
(declare-fun target_backup_encrypted () Bool)
(assert (= source_backup_encrypted target_backup_encrypted))

; custodians_diverse: source semantics (matches Coq)
(declare-fun source_custodians_diverse () Bool)
(declare-fun target_custodians_diverse () Bool)
(assert (= source_custodians_diverse target_custodians_diverse))

; recovery_tested: source semantics (matches Coq)
(declare-fun source_recovery_tested () Bool)
(declare-fun target_recovery_tested () Bool)
(assert (= source_recovery_tested target_recovery_tested))

; key_layers: source semantics (matches Coq)
(declare-fun source_key_layers () Bool)
(declare-fun target_key_layers () Bool)
(assert (= source_key_layers target_key_layers))

; key_001_entropy_sufficient: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_001_entropy_sufficient () Bool)
(declare-fun target_key_001_entropy_sufficient () Bool)
(assert (= source_key_001_entropy_sufficient target_key_001_entropy_sufficient))

; key_002_active_usable: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_002_active_usable () Bool)
(declare-fun target_key_002_active_usable () Bool)
(assert (= source_key_002_active_usable target_key_002_active_usable))

; key_003_valid_transition: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_003_valid_transition () Bool)
(declare-fun target_key_003_valid_transition () Bool)
(assert (= source_key_003_valid_transition target_key_003_valid_transition))

; key_004_destroyed_unusable: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_004_destroyed_unusable () Bool)
(declare-fun target_key_004_destroyed_unusable () Bool)
(assert (= source_key_004_destroyed_unusable target_key_004_destroyed_unusable))

; key_005_compromised_unusable: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_005_compromised_unusable () Bool)
(declare-fun target_key_005_compromised_unusable () Bool)
(assert (= source_key_005_compromised_unusable target_key_005_compromised_unusable))

; key_006_not_expired: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_006_not_expired () Bool)
(declare-fun target_key_006_not_expired () Bool)
(assert (= source_key_006_not_expired target_key_006_not_expired))

; key_007_rotation_new: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_007_rotation_new () Bool)
(declare-fun target_key_007_rotation_new () Bool)
(assert (= source_key_007_rotation_new target_key_007_rotation_new))

; key_008_rotation_timing: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_008_rotation_timing () Bool)
(declare-fun target_key_008_rotation_timing () Bool)
(assert (= source_key_008_rotation_timing target_key_008_rotation_timing))

; key_009_destruction_verified: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_009_destruction_verified () Bool)
(declare-fun target_key_009_destruction_verified () Bool)
(assert (= source_key_009_destruction_verified target_key_009_destruction_verified))

; key_010_escrow_threshold: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_010_escrow_threshold () Bool)
(declare-fun target_key_010_escrow_threshold () Bool)
(assert (= source_key_010_escrow_threshold target_key_010_escrow_threshold))

; key_011_escrow_share_index: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_011_escrow_share_index () Bool)
(declare-fun target_key_011_escrow_share_index () Bool)
(assert (= source_key_011_escrow_share_index target_key_011_escrow_share_index))

; key_012_destruction_method: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_012_destruction_method () Bool)
(declare-fun target_key_012_destruction_method () Bool)
(assert (= source_key_012_destruction_method target_key_012_destruction_method))

; key_013_symmetric_size: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_013_symmetric_size () Bool)
(declare-fun target_key_013_symmetric_size () Bool)
(assert (= source_key_013_symmetric_size target_key_013_symmetric_size))

; key_014_asymmetric_size: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_014_asymmetric_size () Bool)
(declare-fun target_key_014_asymmetric_size () Bool)
(assert (= source_key_014_asymmetric_size target_key_014_asymmetric_size))

; key_015_purpose_bound: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_015_purpose_bound () Bool)
(declare-fun target_key_015_purpose_bound () Bool)
(assert (= source_key_015_purpose_bound target_key_015_purpose_bound))

; key_016_lifetime: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_016_lifetime () Bool)
(declare-fun target_key_016_lifetime () Bool)
(assert (= source_key_016_lifetime target_key_016_lifetime))

; key_017_rotation_due: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_017_rotation_due () Bool)
(declare-fun target_key_017_rotation_due () Bool)
(assert (= source_key_017_rotation_due target_key_017_rotation_due))

; key_018_derivation_depth: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_018_derivation_depth () Bool)
(declare-fun target_key_018_derivation_depth () Bool)
(assert (= source_key_018_derivation_depth target_key_018_derivation_depth))

; key_019_access_control: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_019_access_control () Bool)
(declare-fun target_key_019_access_control () Bool)
(assert (= source_key_019_access_control target_key_019_access_control))

; key_020_hsm_storage: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_020_hsm_storage () Bool)
(declare-fun target_key_020_hsm_storage () Bool)
(assert (= source_key_020_hsm_storage target_key_020_hsm_storage))

; key_021_audit_complete: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_021_audit_complete () Bool)
(declare-fun target_key_021_audit_complete () Bool)
(assert (= source_key_021_audit_complete target_key_021_audit_complete))

; key_022_backup_encrypted: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_022_backup_encrypted () Bool)
(declare-fun target_key_022_backup_encrypted () Bool)
(assert (= source_key_022_backup_encrypted target_key_022_backup_encrypted))

; key_023_custodian_diversity: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_023_custodian_diversity () Bool)
(declare-fun target_key_023_custodian_diversity () Bool)
(assert (= source_key_023_custodian_diversity target_key_023_custodian_diversity))

; key_024_recovery_tested: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_024_recovery_tested () Bool)
(declare-fun target_key_024_recovery_tested () Bool)
(assert (= source_key_024_recovery_tested target_key_024_recovery_tested))

; key_025_defense_in_depth: translation preserves property (matches Coq: Theorem)
(declare-fun source_key_025_defense_in_depth () Bool)
(declare-fun target_key_025_defense_in_depth () Bool)
(assert (= source_key_025_defense_in_depth target_key_025_defense_in_depth))

; Verify all translation validations are satisfiable
(check-sat)
(exit)
