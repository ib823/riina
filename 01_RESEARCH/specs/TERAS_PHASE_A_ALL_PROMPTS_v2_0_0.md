# TERAS PHASE A: COMPLETE PROMPT LIBRARY

## Version 2.0.0 â€” 2026-01-02

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                                                  â•‘
â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—               â•‘
â•‘  â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—              â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘              â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘              â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘              â•‘
â•‘     â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•    â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•    â•šâ•â•  â•šâ•â•              â•‘
â•‘                                                                                                                  â•‘
â•‘                                    TERAS-LANG FOUNDATION â€” EXTREME EDITION                                       â•‘
â•‘                                    52 CHATS â€” COMPLETE SPECIFICATION PROMPTS                                     â•‘
â•‘                                                                                                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—                                 â•‘
â•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                 â•‘
â•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                 â•‘
â•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                 â•‘
â•‘  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•                                 â•‘
â•‘   â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•    â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•                                  â•‘
â•‘                                                                                                                  â•‘
â•‘  PROTOCOL ACTIVE:                                                                                                â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                                                â•‘
â•‘  â€¢ EXTREME KIASU: Over-prepare for every possible failure mode                                                   â•‘
â•‘  â€¢ EXTREME PARANOID: Assume all inputs are malicious, all systems compromised                                    â•‘
â•‘  â€¢ ZERO TRUST: Verify everything, trust nothing, validate all prerequisites                                      â•‘
â•‘  â€¢ ZERO LAZY: No shortcuts, no "typically", no "usually", no vague language                                      â•‘
â•‘  â€¢ ZERO GAPS: Every threat addressed, every edge case covered, every path explored                               â•‘
â•‘  â€¢ ALL THREATS OBSOLETE: Design such that known attack classes cannot succeed                                    â•‘
â•‘                                                                                                                  â•‘
â•‘  TARGET OUTPUT: 100,000+ lines of specification (expanded from 77,000)                                           â•‘
â•‘  THREAT COVERAGE: 100% of known attack vectors rendered non-functional                                           â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# TABLE OF CONTENTS

```
SECTION 0: THREAT ELIMINATION MANDATE
SECTION 1: PROTOCOL DEFINITIONS
SECTION 2: THREAT MODEL â€” COMPREHENSIVE
SECTION 3: DEPENDENCY GRAPH & PARALLEL EXECUTION
SECTION 4: PREREQUISITE VERIFICATION PROTOCOL
SECTION 5: UNIVERSAL PROMPT HEADER
SECTION 6: WAVE 1 PROMPTS (A-R01 through A-R05, A-V01)
SECTION 7: WAVE 2 PROMPTS (A-R06 through A-R09, A-V02)
SECTION 8: WAVE 3 PROMPTS (A-R10 through A-R13, A-V03)
SECTION 9: WAVE 4 PROMPTS (A-R14 through A-R16, A-V04)
SECTION 10: WAVE 5 PROMPTS (A-R17 through A-R20, A-V05, A-INT1)
SECTION 11: WAVE 6 PROMPTS (A-R21 through A-R24, A-V06)
SECTION 12: WAVE 7 PROMPTS (A-R25 through A-R28, A-V07)
SECTION 13: WAVE 8 PROMPTS (A-R29 through A-R32, A-V08)
SECTION 14: WAVE 9 PROMPTS (A-R33 through A-R36, A-V09)
SECTION 15: WAVE 10 PROMPTS (A-R37 through A-R40, A-V10, A-INT2)
SECTION 16: BOOTSTRAP CHAIN INTEGRATION
SECTION 17: VALIDATION PROTOCOL
SECTION 18: HASH CHAIN MANAGEMENT
```

---

# SECTION 0: THREAT ELIMINATION MANDATE

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                                                  â•‘
â•‘                              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                                  â•‘
â•‘                              â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•                                  â•‘
â•‘                                 â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                     â•‘
â•‘                                 â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                     â•‘
â•‘                                 â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                     â•‘
â•‘                                 â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•                                     â•‘
â•‘                                                                                                                  â•‘
â•‘                           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—     â•‘
â•‘                           â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â•‘
â•‘                           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘     â•‘
â•‘                           â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â•‘
â•‘                           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘     â•‘
â•‘                           â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•     â•‘
â•‘                                                                                                                  â•‘
â•‘                                              MANDATE DECLARATION                                                 â•‘
â•‘                                                                                                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  PURPOSE: This document defines prompts that will generate specifications making ALL known threats OBSOLETE.    â•‘
â•‘                                                                                                                  â•‘
â•‘  DEFINITION OF "OBSOLETE": A threat is obsolete when:                                                            â•‘
â•‘    1. The attack vector cannot be executed against TERAS systems                                                 â•‘
â•‘    2. The vulnerability class does not exist in TERAS code                                                       â•‘
â•‘    3. The exploit technique is detected and blocked before damage                                                â•‘
â•‘    4. The threat actor gains no advantage from attempting the attack                                             â•‘
â•‘                                                                                                                  â•‘
â•‘  SCOPE: This mandate covers:                                                                                     â•‘
â•‘    â€¢ Memory safety vulnerabilities (buffer overflow, use-after-free, double-free, etc.)                          â•‘
â•‘    â€¢ Type confusion and type safety violations                                                                   â•‘
â•‘    â€¢ Injection attacks (SQL, command, XSS, XXE, LDAP, etc.)                                                      â•‘
â•‘    â€¢ Information disclosure (secrets in logs, timing attacks, side channels)                                     â•‘
â•‘    â€¢ Authentication and authorization bypass                                                                     â•‘
â•‘    â€¢ Cryptographic weaknesses (weak algorithms, improper key management)                                         â•‘
â•‘    â€¢ Race conditions and TOCTOU vulnerabilities                                                                  â•‘
â•‘    â€¢ Integer overflow/underflow                                                                                  â•‘
â•‘    â€¢ Format string vulnerabilities                                                                               â•‘
â•‘    â€¢ Path traversal and file inclusion                                                                           â•‘
â•‘    â€¢ Deserialization attacks                                                                                     â•‘
â•‘    â€¢ Supply chain attacks (compiler, dependencies, build system)                                                 â•‘
â•‘    â€¢ Side-channel attacks (timing, power, electromagnetic, cache)                                                â•‘
â•‘    â€¢ Speculative execution attacks (Spectre, Meltdown variants)                                                  â•‘
â•‘    â€¢ Hardware-based attacks (rowhammer, cold boot, physical access)                                              â•‘
â•‘    â€¢ Social engineering (addressed by system design, not language)                                               â•‘
â•‘    â€¢ Denial of service (resource exhaustion, algorithmic complexity)                                             â•‘
â•‘    â€¢ Logic errors (addressed by formal verification hooks)                                                       â•‘
â•‘    â€¢ Protocol-level attacks (MITM, replay, downgrade)                                                            â•‘
â•‘    â€¢ AI/ML attacks (adversarial inputs, model poisoning)                                                         â•‘
â•‘    â€¢ Quantum computing threats (addressed by crypto agility)                                                     â•‘
â•‘                                                                                                                  â•‘
â•‘  NON-NEGOTIABLE REQUIREMENTS:                                                                                    â•‘
â•‘    â€¢ Every prompt MUST include threat analysis section                                                           â•‘
â•‘    â€¢ Every specification MUST show how threats are eliminated                                                    â•‘
â•‘    â€¢ Every validation MUST verify threat elimination claims                                                      â•‘
â•‘    â€¢ No specification is complete until ALL relevant threats are addressed                                       â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 0.1 COMPREHENSIVE THREAT TAXONOMY

Every prompt in this document must address threats from the following taxonomy. If a threat is not applicable to a particular specification, the prompt must explicitly state "N/A â€” [reason]".

```
THREAT TAXONOMY â€” MANDATORY COVERAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CATEGORY T1: MEMORY SAFETY THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T1.01  Buffer Overflow (Stack)
T1.02  Buffer Overflow (Heap)
T1.03  Buffer Underflow
T1.04  Use-After-Free
T1.05  Double-Free
T1.06  Null Pointer Dereference
T1.07  Dangling Pointer
T1.08  Wild Pointer
T1.09  Memory Leak
T1.10  Stack Exhaustion
T1.11  Heap Exhaustion
T1.12  Out-of-Bounds Read
T1.13  Out-of-Bounds Write
T1.14  Uninitialized Memory Read
T1.15  Type Confusion (Memory Layout)

CATEGORY T2: TYPE SAFETY THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T2.01  Type Confusion (Semantic)
T2.02  Unsafe Cast
T2.03  Variance Violation
T2.04  Coercion Abuse
T2.05  Generic Type Parameter Escape
T2.06  Lifetime Escape
T2.07  Trait Object Safety Violation
T2.08  Associated Type Confusion
T2.09  Phantom Type Bypass
T2.10  Newtype Unwrapping

CATEGORY T3: INJECTION THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T3.01  SQL Injection
T3.02  Command Injection
T3.03  LDAP Injection
T3.04  XPath Injection
T3.05  XML Injection (XXE)
T3.06  Cross-Site Scripting (XSS)
T3.07  HTML Injection
T3.08  CSS Injection
T3.09  Header Injection
T3.10  Log Injection
T3.11  Template Injection
T3.12  Expression Language Injection
T3.13  Code Injection (Eval)
T3.14  Deserialization Injection
T3.15  Format String Injection

CATEGORY T4: INFORMATION DISCLOSURE THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T4.01  Secret in Logs
T4.02  Secret in Error Messages
T4.03  Secret in URLs
T4.04  Secret in Source Code
T4.05  Secret in Memory Dump
T4.06  Timing Attack
T4.07  Cache Timing Attack
T4.08  Power Analysis Attack
T4.09  Electromagnetic Emanation
T4.10  Acoustic Attack
T4.11  Cold Boot Attack
T4.12  DMA Attack
T4.13  Spectre (All Variants)
T4.14  Meltdown (All Variants)
T4.15  MDS (Microarchitectural Data Sampling)
T4.16  Information Flow Violation
T4.17  Covert Channel
T4.18  Side Channel (General)

CATEGORY T5: AUTHENTICATION/AUTHORIZATION THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T5.01  Authentication Bypass
T5.02  Authorization Bypass
T5.03  Privilege Escalation
T5.04  Capability Leak
T5.05  Session Hijacking
T5.06  Session Fixation
T5.07  CSRF (Cross-Site Request Forgery)
T5.08  Credential Stuffing
T5.09  Brute Force
T5.10  Password Hash Weakness
T5.11  Token Prediction
T5.12  OAuth/OIDC Misconfiguration
T5.13  JWT Vulnerabilities
T5.14  API Key Exposure
T5.15  Broken Object Level Authorization

CATEGORY T6: CRYPTOGRAPHIC THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T6.01  Weak Algorithm
T6.02  Insufficient Key Length
T6.03  Improper Key Management
T6.04  Nonce Reuse
T6.05  IV Reuse
T6.06  Padding Oracle
T6.07  Bleichenbacher Attack
T6.08  Birthday Attack
T6.09  Known Plaintext Attack
T6.10  Chosen Plaintext Attack
T6.11  Related Key Attack
T6.12  Quantum Threat (Shor's Algorithm)
T6.13  Quantum Threat (Grover's Algorithm)
T6.14  Random Number Generator Weakness
T6.15  Certificate Validation Bypass

CATEGORY T7: CONCURRENCY THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T7.01  Race Condition
T7.02  TOCTOU (Time-of-Check to Time-of-Use)
T7.03  Deadlock
T7.04  Livelock
T7.05  Starvation
T7.06  Priority Inversion
T7.07  Data Race
T7.08  Atomicity Violation
T7.09  Order Violation
T7.10  ABA Problem

CATEGORY T8: INTEGER/ARITHMETIC THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T8.01  Integer Overflow (Signed)
T8.02  Integer Overflow (Unsigned)
T8.03  Integer Underflow
T8.04  Integer Truncation
T8.05  Sign Extension Error
T8.06  Division by Zero
T8.07  Floating Point Precision Loss
T8.08  Floating Point Comparison Error
T8.09  NaN Propagation
T8.10  Infinity Handling

CATEGORY T9: SUPPLY CHAIN THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T9.01  Compiler Backdoor (Thompson Attack)
T9.02  Dependency Confusion
T9.03  Typosquatting
T9.04  Maintainer Account Compromise
T9.05  Build System Compromise
T9.06  Package Repository Compromise
T9.07  Binary Substitution
T9.08  Update Mechanism Compromise
T9.09  Hardware Supply Chain Attack
T9.10  Insider Threat (Development)

CATEGORY T10: DENIAL OF SERVICE THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T10.01  Resource Exhaustion (CPU)
T10.02  Resource Exhaustion (Memory)
T10.03  Resource Exhaustion (Disk)
T10.04  Resource Exhaustion (Network)
T10.05  Resource Exhaustion (File Descriptors)
T10.06  Algorithmic Complexity Attack
T10.07  Regular Expression DoS (ReDoS)
T10.08  XML Bomb
T10.09  Billion Laughs Attack
T10.10  Slowloris
T10.11  Amplification Attack
T10.12  Lock Contention Attack

CATEGORY T11: PROTOCOL THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T11.01  Man-in-the-Middle
T11.02  Replay Attack
T11.03  Downgrade Attack
T11.04  Protocol Confusion
T11.05  State Machine Violation
T11.06  Message Reordering
T11.07  Message Dropping
T11.08  Message Modification
T11.09  Connection Hijacking
T11.10  TLS Stripping

CATEGORY T12: HARDWARE/PHYSICAL THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T12.01  Physical Access Attack
T12.02  Rowhammer
T12.03  Glitching Attack
T12.04  Fault Injection
T12.05  Hardware Trojan
T12.06  Microcode Backdoor
T12.07  JTAG/Debug Port Exploitation
T12.08  Bus Snooping
T12.09  Evil Maid Attack
T12.10  Tamper Attack

CATEGORY T13: AI/ML THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T13.01  Adversarial Input
T13.02  Model Poisoning
T13.03  Model Inversion
T13.04  Membership Inference
T13.05  Model Extraction
T13.06  Data Poisoning
T13.07  Backdoor in ML Model
T13.08  Evasion Attack
T13.09  Prompt Injection (for AI systems)
T13.10  Training Data Extraction

CATEGORY T14: LOGIC/DESIGN THREATS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T14.01  Business Logic Flaw
T14.02  Workflow Bypass
T14.03  State Confusion
T14.04  Assumption Violation
T14.05  Invariant Violation
T14.06  Precondition Violation
T14.07  Postcondition Violation
T14.08  Contract Violation
T14.09  Missing Validation
T14.10  Incorrect Validation

TOTAL: 140 THREAT CATEGORIES
```

## 0.2 THREAT-TO-SPECIFICATION MAPPING

Every specification must declare which threats it addresses:

```
SPECIFICATION-TO-THREAT MATRIX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

A-R01 (Lexer):         T3.15, T8.01-T8.05, T10.06, T10.07
A-R02 (Expressions):   T1.*, T2.*, T3.*, T8.*
A-R03 (Statements):    T1.*, T2.*, T7.*, T14.*
A-R04 (Declarations):  T2.*, T5.*, T14.*
A-R05 (AST):           T1.*, T2.*, T4.*, T14.*
A-R06 (CTSS-1):        T2.*, T4.16, T4.17
A-R07 (CTSS-2):        T2.*, T4.*, T6.*
A-R08 (LATS-1):        T1.*, T7.*, T14.*
A-R09 (LATS-2):        T1.*, T7.*, T14.*
A-R10 (Effect-1):      T3.*, T5.*, T14.*
A-R11 (Effect-2):      T3.*, T5.*, T7.*
A-R12 (Security-1):    T4.*, T5.*, T6.*
A-R13 (Security-2):    T4.*, T5.*, T6.*
A-R14 (Module):        T5.*, T9.*, T14.*
A-R15 (Memory-1):      T1.*, T12.01, T12.02
A-R16 (Memory-2):      T1.*, T4.05, T4.11
A-R17 (BTCS-1):        T2.*, T14.*
A-R18 (BTCS-2):        T2.*, T14.*
A-R19 (UTCS-1):        T2.*, T14.*
A-R20 (UTCS-2):        T2.*, T14.*
A-R21 (HIR):           T1.*, T2.*, T14.*
A-R22 (MIR):           T1.*, T4.06, T4.07
A-R23 (LIR):           T1.*, T4.*, T12.*
A-R24 (IR-Transform):  T1.*, T9.01
A-R25 (Codegen-X86):   T1.*, T4.13, T4.14, T12.*
A-R26 (Codegen-ARM):   T1.*, T4.13, T4.14, T12.*
A-R27 (Codegen-WASM):  T1.*, T10.*
A-R28 (Codegen-RISCV): T1.*, T4.13, T4.14, T12.*
A-R29 (Opt-1):         T4.06, T4.07, T8.*, T10.06
A-R30 (Opt-2):         T4.06, T4.07, T8.*, T10.06
A-R31 (Semantics-1):   T14.*
A-R32 (Semantics-2):   T14.*
A-R33 (Soundness-1):   ALL (meta-level)
A-R34 (Soundness-2):   ALL (meta-level)
A-R35 (Memory-Proof):  T1.*, T12.01, T12.02
A-R36 (InfoFlow-Proof):T4.*
A-R37 (Stdlib-1):      T1.*, T3.*, T6.*
A-R38 (Stdlib-2):      T5.*, T10.*, T11.*
A-R39 (Stdlib-3):      T6.*, T11.*
A-R40 (FFI):           T1.*, T2.*, T9.*
```

---

# SECTION 1: PROTOCOL DEFINITIONS

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                        PROTOCOL DEFINITIONS                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  1.1 EXTREME KIASU PROTOCOL                                                                                      â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                                     â•‘
â•‘                                                                                                                  â•‘
â•‘  Definition: Excessive preparation and caution that assumes worst-case scenarios.                                â•‘
â•‘                                                                                                                  â•‘
â•‘  Manifestations in prompts:                                                                                      â•‘
â•‘    â€¢ Every section has explicit minimum line counts                                                              â•‘
â•‘    â€¢ Every output has anti-hallucination checklists                                                              â•‘
â•‘    â€¢ Every decision has explicit rationale documentation                                                         â•‘
â•‘    â€¢ Every edge case is enumerated and addressed                                                                 â•‘
â•‘    â€¢ Every assumption is stated and verified                                                                     â•‘
â•‘    â€¢ Every cross-reference is explicit with hash verification                                                    â•‘
â•‘    â€¢ No implicit behavior â€” everything is explicit                                                               â•‘
â•‘    â€¢ No "obvious" cases â€” everything is documented                                                               â•‘
â•‘    â€¢ No shortcuts â€” full specification even for simple concepts                                                  â•‘
â•‘    â€¢ Redundant checks at multiple layers                                                                         â•‘
â•‘                                                                                                                  â•‘
â•‘  1.2 EXTREME PARANOID PROTOCOL                                                                                   â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                                   â•‘
â•‘                                                                                                                  â•‘
â•‘  Definition: Assume all inputs are malicious, all systems are compromised, all actors are adversarial.          â•‘
â•‘                                                                                                                  â•‘
â•‘  Manifestations in prompts:                                                                                      â•‘
â•‘    â€¢ Every input has validation requirements                                                                     â•‘
â•‘    â€¢ Every trust boundary is explicitly marked                                                                   â•‘
â•‘    â€¢ Every privilege transition is documented                                                                    â•‘
â•‘    â€¢ Every data flow has taint tracking requirements                                                             â•‘
â•‘    â€¢ Every secret has protection requirements                                                                    â•‘
â•‘    â€¢ Adversarial examples for every construct                                                                    â•‘
â•‘    â€¢ Attack scenarios for every feature                                                                          â•‘
â•‘    â€¢ Defense mechanisms for every threat                                                                         â•‘
â•‘    â€¢ Assume the compiler is compromised (bootstrap chain)                                                        â•‘
â•‘    â€¢ Assume the hardware is compromised (side channel protection)                                                â•‘
â•‘    â€¢ Assume the network is compromised (crypto everything)                                                       â•‘
â•‘    â€¢ Assume the developer is compromised (capability system)                                                     â•‘
â•‘                                                                                                                  â•‘
â•‘  1.3 ZERO TRUST PROTOCOL                                                                                         â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                                         â•‘
â•‘                                                                                                                  â•‘
â•‘  Definition: Never trust, always verify. Every claim must be backed by proof or verification.                   â•‘
â•‘                                                                                                                  â•‘
â•‘  Manifestations in prompts:                                                                                      â•‘
â•‘    â€¢ Every prerequisite document is verified by hash                                                             â•‘
â•‘    â€¢ Every cross-reference is verified to exist                                                                  â•‘
â•‘    â€¢ Every claim has verification mechanism                                                                      â•‘
â•‘    â€¢ Every proof has explicit proof checker specification                                                        â•‘
â•‘    â€¢ Every output has verification checklist                                                                     â•‘
â•‘    â€¢ No inherited trust from previous sessions                                                                   â•‘
â•‘    â€¢ No trust in Claude's memory (verify from documents)                                                         â•‘
â•‘    â€¢ No trust in user input (validate all provided hashes)                                                       â•‘
â•‘    â€¢ Hash chain verification for all documents                                                                   â•‘
â•‘    â€¢ Multiple verification methods where possible                                                                â•‘
â•‘                                                                                                                  â•‘
â•‘  1.4 ZERO LAZY PROTOCOL                                                                                          â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                                          â•‘
â•‘                                                                                                                  â•‘
â•‘  Definition: No shortcuts, no placeholders, no "TBD", no vague language.                                         â•‘
â•‘                                                                                                                  â•‘
â•‘  Forbidden phrases:                                                                                              â•‘
â•‘    â€¢ "typically", "usually", "generally", "commonly"                                                             â•‘
â•‘    â€¢ "often", "sometimes", "occasionally", "rarely"                                                              â•‘
â•‘    â€¢ "may", "might", "could", "should" (use "MUST", "SHALL", "WILL")                                             â•‘
â•‘    â€¢ "TBD", "TODO", "FIXME", "placeholder"                                                                       â•‘
â•‘    â€¢ "obvious", "clearly", "naturally", "of course"                                                              â•‘
â•‘    â€¢ "similar to", "like", "as in" (be explicit)                                                                 â•‘
â•‘    â€¢ "etc.", "and so on", "and similar"                                                                          â•‘
â•‘    â€¢ "for example" without exhaustive examples                                                                   â•‘
â•‘    â€¢ "see documentation" without specific reference                                                              â•‘
â•‘    â€¢ Empty sections or stub implementations                                                                      â•‘
â•‘                                                                                                                  â•‘
â•‘  Required behaviors:                                                                                             â•‘
â•‘    â€¢ Every section has content meeting minimum line count                                                        â•‘
â•‘    â€¢ Every construct has complete specification                                                                  â•‘
â•‘    â€¢ Every example is runnable and complete                                                                      â•‘
â•‘    â€¢ Every algorithm has explicit pseudocode                                                                     â•‘
â•‘    â€¢ Every type has complete definition                                                                          â•‘
â•‘    â€¢ Every function has complete signature and semantics                                                         â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# SECTION 2: COMPREHENSIVE THREAT MODEL

## 2.1 Threat Actor Profiles

```
THREAT ACTOR TAXONOMY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ACTOR-1: SCRIPT KIDDIE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Capability: Low
  Resources: Minimal
  Persistence: Low
  Access: External only
  Goals: Defacement, bragging rights
  Tools: Public exploits, automated scanners
  
  TERAS Response: Eliminated by default security posture.
  All common vulnerabilities prevented by type system.

ACTOR-2: CRIMINAL ORGANIZATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Capability: Medium
  Resources: Moderate (funded by crime)
  Persistence: Medium (profit-driven)
  Access: External, may purchase insider access
  Goals: Financial gain, data theft, ransomware
  Tools: Custom malware, purchased exploits, social engineering
  
  TERAS Response: Eliminated by defense in depth.
  - Memory safety prevents exploit development
  - Capability system prevents privilege escalation
  - Information flow control prevents data exfiltration
  - Audit logging enables detection and response

ACTOR-3: NATION-STATE (TIER 1)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Capability: Highest
  Resources: Unlimited (state funding)
  Persistence: Infinite (strategic patience)
  Access: All vectors (supply chain, hardware, insider, legal)
  Goals: Intelligence gathering, sabotage, influence
  Tools: Zero-days, hardware implants, compromised compilers, legal coercion
  
  TERAS Response: Mitigated by comprehensive architecture.
  - Bootstrap chain prevents compiler attacks
  - DDC detects Thompson attacks
  - Hardware attestation detects implants
  - Distributed authority resists legal coercion
  - Formal verification reduces zero-day surface
  - Side-channel protection prevents timing attacks
  - Constant-time cryptography prevents cache attacks

ACTOR-4: INSIDER (MALICIOUS)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Capability: Variable (depends on role)
  Resources: Access to internal systems
  Persistence: High (already inside)
  Access: Internal, legitimate credentials
  Goals: Sabotage, data theft, espionage
  Tools: Legitimate access, knowledge of systems
  
  TERAS Response: Mitigated by capability system.
  - Least privilege by default
  - Capability attenuation prevents accumulation
  - Multi-party authorization for sensitive operations
  - Comprehensive audit logging
  - Separation of duties enforced by type system

ACTOR-5: INSIDER (COMPROMISED)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Capability: Variable (depends on compromise method)
  Resources: Actor's access plus attacker's tools
  Persistence: Limited by detection risk
  Access: Internal, legitimate credentials
  Goals: Varies (depends on external actor)
  Tools: Combination of insider access and external attack tools
  
  TERAS Response: Mitigated by defense in depth.
  - Same as ACTOR-4, plus:
  - Anomaly detection on behavior
  - Hardware attestation of development machines
  - Code review requirements enforced

ACTOR-6: AI-POWERED ATTACKER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Capability: High (augmented by AI)
  Resources: Variable
  Persistence: High (automated)
  Access: External initially
  Goals: Variable
  Tools: AI-assisted vulnerability discovery, automated exploitation
  
  TERAS Response: Mitigated by elimination of vulnerability classes.
  - No memory safety vulnerabilities to find
  - No injection vulnerabilities to exploit
  - Formal verification reduces attack surface
  - AI cannot find what does not exist

ACTOR-7: QUANTUM-CAPABLE ATTACKER (Future)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Capability: Highest (future threat)
  Resources: Quantum computer with sufficient qubits
  Persistence: N/A (harvest now, decrypt later)
  Access: Stored encrypted traffic
  Goals: Decrypt historical communications
  Tools: Quantum computer, stored ciphertext
  
  TERAS Response: Mitigated by crypto agility.
  - Post-quantum cryptography (ML-KEM, ML-DSA)
  - Hybrid schemes during transition
  - Crypto agility for future algorithm migration
  - Forward secrecy limits value of compromise
```

## 2.2 Attack Surface Analysis

```
TERAS ATTACK SURFACE MAP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SURFACE-1: SOURCE CODE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: Code review bypass, malicious contribution
  Defense: 
    - Type system prevents unsafe code
    - Effect system prevents unauthorized operations
    - Capability system enforces least privilege
    - All code must pass terasc analysis
    - Multiple reviewer requirement
    - Automated security scanning (by terasc itself)

SURFACE-2: COMPILER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: Thompson attack, compiler bug exploitation
  Defense:
    - Bootstrap from human-auditable hex
    - Diverse Double Compilation (DDC)
    - Reproducible builds
    - Binary transparency logs
    - Multiple independent compilers

SURFACE-3: BUILD SYSTEM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: Build script modification, dependency substitution
  Defense:
    - Hermetic builds
    - All dependencies pinned by hash
    - No network access during build
    - Reproducible builds
    - Multi-party build verification

SURFACE-4: DEPENDENCIES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: Dependency confusion, typosquatting, maintainer compromise
  Defense:
    - Zero external dependencies (TERAS core)
    - All code written in TERAS (self-contained)
    - Bootstrap chain eliminates dependency on other languages
    - Any external interface through FFI with capability gates

SURFACE-5: RUNTIME
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: Memory corruption, logic errors, injection
  Defense:
    - Memory safety by construction
    - Type safety by construction
    - Effect tracking prevents unauthorized operations
    - Capability system enforces authorization
    - All input validated by type system

SURFACE-6: NETWORK
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: MITM, replay, injection, DoS
  Defense:
    - All communication encrypted (TLS 1.3+)
    - Post-quantum hybrid encryption
    - Protocol state machines formally verified
    - Rate limiting and resource quotas
    - Session types enforce protocol compliance

SURFACE-7: STORAGE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: Data at rest encryption bypass, integrity violation
  Defense:
    - All secrets encrypted at rest
    - Key derivation from multiple sources
    - Integrity verification on all reads
    - Secure deletion (zeroization)
    - Tamper detection

SURFACE-8: HARDWARE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: Side channels, fault injection, physical access
  Defense:
    - Constant-time operations for secrets
    - Cache partitioning for crypto
    - Speculation barriers
    - Redundant execution for critical operations
    - Hardware attestation
    - Tamper detection (where hardware supports)

SURFACE-9: HUMAN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Vector: Social engineering, credential theft, coercion
  Defense:
    - Multi-factor authentication required
    - Out-of-band verification for sensitive operations
    - Multi-party authorization
    - Warrant canary (where legal)
    - Distributed authority
    - Audit trail for accountability
```

---

# SECTION 3: DEPENDENCY GRAPH & PARALLEL EXECUTION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                    DEPENDENCY GRAPH & PARALLEL EXECUTION                                         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  WAVE 1: FOUNDATION (Sequential â€” Must run one at a time)                                                        â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                        â•‘
â•‘                                                                                                                  â•‘
â•‘  A-R01 â”€â”€â–¶ A-R02 â”€â”€â–¶ A-R03 â”€â”€â–¶ A-R04 â”€â”€â–¶ A-V01 â”€â”€â–¶ A-R05                                                         â•‘
â•‘  Lexer     Expr      Stmt      Decl      Valid    AST                                                            â•‘
â•‘                                                                                                                  â•‘
â•‘  Status: A-R01 âœ… | A-R02 âœ… | A-R03 âœ… | A-R04 âœ… | A-V01 âœ… | A-R05 âœ…                                            â•‘
â•‘                                                                                                                  â•‘
â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â•‘
â•‘                                                                                                                  â•‘
â•‘  WAVE 2: TYPE SYSTEM (After A-R05)                                                                               â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                              â•‘
â•‘                                                                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                            â•‘
â•‘  â”‚  A-R06 â”€â”€â–¶ A-R07    (CTSS Updates â€” Part 1 & 2)  â”‚                                                            â•‘
â•‘  â”‚                                                   â”‚  Can run in PARALLEL                                      â•‘
â•‘  â”‚  A-R08 â”€â”€â–¶ A-R09    (LATS Updates â€” Part 1 & 2)  â”‚                                                            â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                            â•‘
â•‘                          â”‚                                                                                       â•‘
â•‘                          â–¼                                                                                       â•‘
â•‘                       A-V02 (Validation Gate)                                                                    â•‘
â•‘                                                                                                                  â•‘
â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â•‘
â•‘                                                                                                                  â•‘
â•‘  WAVE 3: EFFECTS & SECURITY (After A-V02)                                                                        â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                       â•‘
â•‘                                                                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                            â•‘
â•‘  â”‚  A-R10 â”€â”€â–¶ A-R11   (Effect System â€” Part 1 & 2)  â”‚                                                            â•‘
â•‘  â”‚                                                   â”‚  Can run in PARALLEL                                      â•‘
â•‘  â”‚  A-R12 â”€â”€â–¶ A-R13   (Security Types â€” Part 1 & 2) â”‚                                                            â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                            â•‘
â•‘                          â”‚                                                                                       â•‘
â•‘                          â–¼                                                                                       â•‘
â•‘                       A-V03 (Validation Gate)                                                                    â•‘
â•‘                                                                                                                  â•‘
â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â•‘
â•‘                                                                                                                  â•‘
â•‘  WAVE 4: MODULES & MEMORY (After A-V03)                                                                          â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                         â•‘
â•‘                                                                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                            â•‘
â•‘  â”‚  A-R14               (Module System)             â”‚                                                            â•‘
â•‘  â”‚                                                   â”‚  Can run in PARALLEL                                      â•‘
â•‘  â”‚  A-R15 â”€â”€â–¶ A-R16    (Memory Model â€” Part 1 & 2)  â”‚                                                            â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                            â•‘
â•‘                          â”‚                                                                                       â•‘
â•‘                          â–¼                                                                                       â•‘
â•‘                       A-V04 (Validation Gate)                                                                    â•‘
â•‘                                                                                                                  â•‘
â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â•‘
â•‘                                                                                                                  â•‘
â•‘  WAVE 5: TYPE CHECKING (After A-V04)                                                                             â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                                            â•‘
â•‘                                                                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                            â•‘
â•‘  â”‚  A-R17 â”€â”€â–¶ A-R18    (BTCS â€” Part 1 & 2)          â”‚                                                            â•‘
â•‘  â”‚                                                   â”‚  Can run in PARALLEL                                      â•‘
â•‘  â”‚  A-R19 â”€â”€â–¶ A-R20    (UTCS â€” Part 1 & 2)          â”‚                                                            â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                            â•‘
â•‘                          â”‚                                                                                       â•‘
â•‘                          â–¼                                                                                       â•‘
â•‘                       A-V05 (Validation Gate)                                                                    â•‘
â•‘                          â”‚                                                                                       â•‘
â•‘                          â–¼                                                                                       â•‘
â•‘                       A-INT1 (Integration â€” Type System)                                                         â•‘
â•‘                                                                                                                  â•‘
â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â•‘
â•‘                                                                                                                  â•‘
â•‘  [Remaining waves continue similarly...]                                                                         â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# SECTION 4: PREREQUISITE VERIFICATION PROTOCOL

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                    PREREQUISITE VERIFICATION PROTOCOL                                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  BEFORE ANY PROMPT IS EXECUTED, THE FOLLOWING VERIFICATION MUST BE PERFORMED:                                   â•‘
â•‘                                                                                                                  â•‘
â•‘  STEP 1: HASH VERIFICATION                                                                                       â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                                       â•‘
â•‘  For each prerequisite document:                                                                                 â•‘
â•‘    1. Read document from project knowledge                                                                       â•‘
â•‘    2. Compute SHA-256 hash                                                                                       â•‘
â•‘    3. Compare to expected hash in prompt                                                                         â•‘
â•‘    4. If mismatch: STOP IMMEDIATELY and report error                                                             â•‘
â•‘    5. If match: Proceed to next prerequisite                                                                     â•‘
â•‘                                                                                                                  â•‘
â•‘  STEP 2: CONTENT VERIFICATION                                                                                    â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                                      â•‘
â•‘  For each prerequisite document:                                                                                 â•‘
â•‘    1. Verify document is not empty                                                                               â•‘
â•‘    2. Verify document has expected structure                                                                     â•‘
â•‘    3. Verify document status is "COMPLETE"                                                                       â•‘
â•‘    4. Verify document has output hash                                                                            â•‘
â•‘    5. If any check fails: STOP and report specific failure                                                       â•‘
â•‘                                                                                                                  â•‘
â•‘  STEP 3: CROSS-REFERENCE VERIFICATION                                                                            â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                          â•‘
â•‘  For each cross-reference in current prompt:                                                                     â•‘
â•‘    1. Verify referenced section exists in prerequisite                                                           â•‘
â•‘    2. Verify referenced definition is complete                                                                   â•‘
â•‘    3. Verify referenced grammar is present                                                                       â•‘
â•‘    4. If any cross-reference is broken: STOP and report                                                          â•‘
â•‘                                                                                                                  â•‘
â•‘  STEP 4: FOUNDATION VERIFICATION                                                                                 â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                                 â•‘
â•‘  Verify access to foundation documents:                                                                          â•‘
â•‘    1. TERAS_MASTER_ARCHITECTURE_v3_2_2_CONSOLIDATED.md                                                           â•‘
â•‘    2. CTSS_v1_0_1.md                                                                                             â•‘
â•‘    3. LATS_v1_0_0.md                                                                                             â•‘
â•‘    4. teras-lang-foundation-v0_3_1.md                                                                            â•‘
â•‘    5. TERAS_GAP_ELIMINATION_ADDENDUM_v1_0_0.md                                                                   â•‘
â•‘                                                                                                                  â•‘
â•‘  STEP 5: PROCEED OR ABORT                                                                                        â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                                       â•‘
â•‘  If ALL verifications pass: Proceed with prompt execution                                                        â•‘
â•‘  If ANY verification fails: ABORT with detailed error report                                                     â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 4.1 Current Verified Hash Chain

```
VERIFIED HASH CHAIN â€” As of 2026-01-02
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chat    â”‚ SHA-256 Hash                                                        â”‚ Status â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ A-R01   â”‚ 927a2e550347157e4151014ca9cc30958c6d0c4fe1c38228f0928ad806d287f3    â”‚ âœ…     â”‚
â”‚ A-R02   â”‚ 71f24db06dc0d17ee65e45cc0d37606f9059cfea313ec4e0a5de3f47fdb0b6e3    â”‚ âœ…     â”‚
â”‚ A-R03   â”‚ ffbfa0a2c8780b67c01e2985652fe54dcde611f5798c58bfcc9df9855e2d55ab    â”‚ âœ…     â”‚
â”‚ A-R04   â”‚ cef4c4d368d5391704e6795bcdb11af279d71c5044ca785821229eee0e488eb3    â”‚ âœ…     â”‚
â”‚ A-V01   â”‚ bba910a677cd373fce5523a82c44facb41fedd90293ac71e62de2a3b5c4c2d56    â”‚ âœ…     â”‚
â”‚ A-R05   â”‚ 179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0    â”‚ âœ…     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

NEXT PREREQUISITE: A-R05 hash for A-R06
```

---

# SECTION 5: UNIVERSAL PROMPT HEADER

Every prompt MUST begin with the following header, customized for the specific chat:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                         UNIVERSAL PROMPT HEADER                                                  â•‘
â•‘                                         (Include in EVERY prompt)                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£

# TERAS [TYPE] SESSION [CHAT-ID]: [TITLE]

## PROTOCOL DECLARATION

You are operating under the TERAS ULTRA KIASU + EXTREME PARANOID + ZERO TRUST + ZERO LAZY PROTOCOL.

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                       MANDATORY PROTOCOL REQUIREMENTS                         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                               â•‘
â•‘  ULTRA KIASU:                                                                 â•‘
â•‘  â€¢ Minimum line count: [SPECIFIC NUMBER] â€” NO EXCEPTIONS                      â•‘
â•‘  â€¢ Every section must be complete â€” NO PLACEHOLDERS                           â•‘
â•‘  â€¢ Every edge case must be addressed â€” NO "OBVIOUS" CASES                     â•‘
â•‘  â€¢ Every decision must be documented â€” NO IMPLICIT CHOICES                    â•‘
â•‘                                                                               â•‘
â•‘  EXTREME PARANOID:                                                            â•‘
â•‘  â€¢ Every input is potentially malicious                                       â•‘
â•‘  â€¢ Every system is potentially compromised                                    â•‘
â•‘  â€¢ Every actor is potentially adversarial                                     â•‘
â•‘  â€¢ Include attack scenarios for every construct                               â•‘
â•‘  â€¢ Include defense mechanisms for every threat                                â•‘
â•‘                                                                               â•‘
â•‘  ZERO TRUST:                                                                  â•‘
â•‘  â€¢ Verify all prerequisite hashes before proceeding                           â•‘
â•‘  â€¢ Cross-reference all claims to source documents                             â•‘
â•‘  â€¢ Do not assume anything from previous sessions                              â•‘
â•‘  â€¢ Verify every cross-reference exists                                        â•‘
â•‘                                                                               â•‘
â•‘  ZERO LAZY:                                                                   â•‘
â•‘  â€¢ No "typically", "usually", "generally", "commonly"                         â•‘
â•‘  â€¢ No "TBD", "TODO", "FIXME", "placeholder"                                   â•‘
â•‘  â€¢ No empty sections or stub implementations                                  â•‘
â•‘  â€¢ Full specification for every construct                                     â•‘
â•‘                                                                               â•‘
â•‘  THREAT ELIMINATION:                                                          â•‘
â•‘  â€¢ Address ALL threats from taxonomy relevant to this specification           â•‘
â•‘  â€¢ Document how each threat is eliminated, mitigated, or N/A                  â•‘
â•‘  â€¢ Include threat section in output                                           â•‘
â•‘                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## SESSION METADATA

```
SESSION ID:          [CHAT-ID]
TYPE:                [Research/Validation/Integration]
TITLE:               [Full Title]
OUTPUT:              [Output filename]
MINIMUM LINES:       [Number]
DATE:                [Date]
PREREQUISITE:        [Previous chat ID and hash]
```

## PREREQUISITE VERIFICATION

```
MANDATORY â€” VERIFY BEFORE PROCEEDING:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chat    â”‚ SHA-256 Hash (MUST MATCH)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ID]    â”‚ [HASH]                                                             â”‚
â”‚ ...     â”‚ ...                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

VERIFICATION PROCEDURE:
1. Read each prerequisite document from project knowledge
2. If document missing or hash mismatch: STOP and report error
3. If all hashes match: Proceed with session
```

## REFERENCE DOCUMENTS

```
MANDATORY READING â€” Access from project knowledge:

1. [List of foundation documents]
2. [List of prerequisite documents]
3. [List of related documents]
```

## THREAT COVERAGE REQUIREMENT

```
THIS SPECIFICATION MUST ADDRESS THE FOLLOWING THREATS:

[List specific threat IDs from taxonomy]

FOR EACH THREAT:
â€¢ If ELIMINATED: Explain how the design prevents the attack
â€¢ If MITIGATED: Explain the defense and residual risk
â€¢ If DETECTED: Explain the detection mechanism
â€¢ If N/A: Explain why the threat does not apply
```

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```


---

# SECTION 6: WAVE 1 PROMPTS (FOUNDATION)

## Wave 1 Status: âœ… COMPLETE

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                              WAVE 1: FOUNDATION                                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  A-R01 â”€â”€â–¶ A-R02 â”€â”€â–¶ A-R03 â”€â”€â–¶ A-R04 â”€â”€â–¶ A-V01 â”€â”€â–¶ A-R05                                                         â•‘
â•‘    âœ…        âœ…        âœ…        âœ…        âœ…        âœ…                                                             â•‘
â•‘                                                                                                                  â•‘
â•‘  ALL WAVE 1 CHATS COMPLETE â€” Prompts retained for reference and repair if needed                                 â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-R01: LEXICAL STRUCTURE SPECIFICATION âœ… COMPLETE

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R01: LEXICAL STRUCTURE â€” REFERENCE PROMPT
STATUS: âœ… COMPLETE
OUTPUT: TERAS-LANG-LEXER-SPEC_v1.0.0.md
HASH: 927a2e550347157e4151014ca9cc30958c6d0c4fe1c38228f0928ad806d287f3
LINES: 2,906
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT (Reference)

```markdown
# TERAS RESEARCH SESSION A-R01: LEXICAL STRUCTURE SPECIFICATION

## PROTOCOL DECLARATION

You are operating under the TERAS ULTRA KIASU PROTOCOL.
- ZERO TRUST: Every token definition must be explicit with no ambiguity
- ZERO GAP: Every character in valid TERAS source must be lexically classified
- ZERO SHORTCUTS: Complete formal definitions, no "similar to Rust"
- ZERO LAZY: Minimum 2,500 lines of specification

## SESSION METADATA

SESSION ID: A-R01
TYPE: Research (R)
TITLE: TERAS-LANG Lexical Structure Specification
OUTPUT: TERAS-LANG-LEXER-SPEC_v1.0.0.md
MINIMUM LINES: 2,500
PREREQUISITE: None (this is the first session)

## OBJECTIVE

Create the complete lexical specification for TERAS-LANG. This document defines EVERY token that can appear in valid TERAS source code.

## REFERENCE DOCUMENTS

Access and read from project knowledge:
1. teras-lang-foundation-v0_3_1.md
2. TERAS_MASTER_ARCHITECTURE_v3_2_2_CONSOLIDATED.md
3. CTSS_v1_0_1.md

## REQUIRED OUTPUT SECTIONS

### SECTION 1: Token Categories (500+ lines)
- Reserved Keywords (list ALL keywords)
- Security Keywords (secret, tainted, sanitized, capability, effect, etc.)
- Operators (ALL operators with precedence hints)
- Delimiters and Punctuation
- Literal Categories
- Comment Forms

### SECTION 2: Identifier Specification (300+ lines)
- Valid identifier patterns
- Reserved prefixes/suffixes
- Unicode considerations
- Naming conventions (not just style - semantic implications)

### SECTION 3: Literal Specifications (600+ lines)
- Integer literals (ALL bases, ALL suffixes)
- Floating-point literals (including special values)
- Character literals (including ALL escape sequences)
- String literals (raw, byte, interpolated)
- Boolean literals
- Unit literal

### SECTION 4: Comment Specification (200+ lines)
- Line comments
- Block comments (including nesting rules)
- Doc comments (outer and inner)
- Security annotation comments

### SECTION 5: Whitespace and Layout (200+ lines)
- Whitespace characters
- Line terminators
- Significant vs insignificant whitespace
- Layout sensitivity rules (if any)

### SECTION 6: Security-Specific Tokens (400+ lines)
- Security level tokens
- Effect annotation tokens
- Capability tokens
- Audit trail tokens

### SECTION 7: Lexer State Machine (300+ lines)
- State definitions
- Transition rules
- Error recovery

### SECTION 8: THREAT ANALYSIS

For each of the following threats, document how the lexer specification prevents or mitigates:
- T3.15 Format String Injection
- T8.01-T8.05 Integer parsing vulnerabilities
- T10.06 Algorithmic Complexity (pathological inputs)
- T10.07 ReDoS (if regex used)

## OUTPUT FORMAT

Document must be 2,500+ lines minimum.
```

---

## A-R02: EXPRESSION GRAMMAR âœ… COMPLETE

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R02: EXPRESSION GRAMMAR â€” REFERENCE PROMPT
STATUS: âœ… COMPLETE
OUTPUT: TERAS-LANG-GRAMMAR-EXPR_v1.0.0.md
HASH: 71f24db06dc0d17ee65e45cc0d37606f9059cfea313ec4e0a5de3f47fdb0b6e3
LINES: 3,510
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT (Reference)

```markdown
# TERAS RESEARCH SESSION A-R02: EXPRESSION GRAMMAR SPECIFICATION

## PROTOCOL DECLARATION

You are operating under the TERAS ULTRA KIASU PROTOCOL.
- ZERO TRUST: Every production rule must be explicit
- ZERO GAP: Every valid expression must be derivable
- ZERO SHORTCUTS: Complete BNF/EBNF, no prose-only definitions

## SESSION METADATA

SESSION ID: A-R02
TYPE: Research (R)
TITLE: TERAS-LANG Expression Grammar Specification
OUTPUT: TERAS-LANG-GRAMMAR-EXPR_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-R01 (hash: 927a2e550347157e4151014ca9cc30958c6d0c4fe1c38228f0928ad806d287f3)

## PREREQUISITE VERIFICATION

Verify A-R01 output exists and hash matches before proceeding.

## REQUIRED OUTPUT SECTIONS

### SECTION 1: Literal Expressions (300+ lines)
- All literal forms
- Type inference rules for each

### SECTION 2: Path Expressions (300+ lines)
- Simple paths
- Qualified paths
- Type-relative paths

### SECTION 3: Operator Expressions (600+ lines)
- Complete precedence table (ALL 19 levels)
- Associativity for each level
- ALL operators with BNF

### SECTION 4: Control Flow Expressions (400+ lines)
- If expressions
- Match expressions
- Loop expressions
- Block expressions

### SECTION 5: Function and Closure Expressions (300+ lines)
- Function calls
- Method calls
- Closure definitions

### SECTION 6: TERAS Security Expressions (500+ lines)
- declassify expressions
- sanitize expressions
- secret expressions
- tainted expressions
- capability expressions
- effect expressions

### SECTION 7: Type Expressions (300+ lines)
- Cast expressions
- Type ascription
- sizeof/alignof

### SECTION 8: Error Handling Expressions (300+ lines)
- try expressions
- propagation operator

### SECTION 9: THREAT ANALYSIS

Document how expression grammar prevents:
- T1.* Memory safety threats
- T2.* Type safety threats
- T3.* Injection threats
- T8.* Integer/arithmetic threats

## OUTPUT FORMAT

Document must be 3,000+ lines minimum.
```

---

## A-R03: STATEMENT GRAMMAR âœ… COMPLETE

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R03: STATEMENT GRAMMAR â€” REFERENCE PROMPT
STATUS: âœ… COMPLETE
OUTPUT: TERAS-LANG-GRAMMAR-STMT_v1.0.0.md
HASH: ffbfa0a2c8780b67c01e2985652fe54dcde611f5798c58bfcc9df9855e2d55ab
LINES: ~3,400
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-R04: DECLARATION GRAMMAR âœ… COMPLETE

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R04: DECLARATION GRAMMAR â€” REFERENCE PROMPT
STATUS: âœ… COMPLETE
OUTPUT: TERAS-LANG-GRAMMAR-DECL_v1.0.0.md
HASH: cef4c4d368d5391704e6795bcdb11af279d71c5044ca785821229eee0e488eb3
LINES: ~3,400
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-V01: GRAMMAR VALIDATION GATE âœ… COMPLETE

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-V01: GRAMMAR VALIDATION â€” REFERENCE PROMPT
STATUS: âœ… COMPLETE
OUTPUT: VALIDATION-REPORT-A-V01_v1.0.0.md
HASH: bba910a677cd373fce5523a82c44facb41fedd90293ac71e62de2a3b5c4c2d56
LINES: ~1,500
VALIDATION RESULT: âœ… PASS (312 production rules verified)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-R05: AST SPECIFICATION âœ… COMPLETE

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R05: AST SPECIFICATION â€” REFERENCE PROMPT
STATUS: âœ… COMPLETE
OUTPUT: TERAS-LANG-AST_v1.0.0.md
HASH: 179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0
LINES: 6,621
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# SECTION 7: WAVE 2 PROMPTS (TYPE SYSTEM)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                           WAVE 2: TYPE SYSTEM                                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â•‘
â•‘  â”‚  A-R06 â”€â”€â–¶ A-R07    (CTSS Updates â€” Primitive/Compound â†’ Security/Effect Types)      â”‚                        â•‘
â•‘  â”‚    â¬œ        â¬œ                                                                        â”‚  PARALLEL GROUP       â•‘
â•‘  â”‚  A-R08 â”€â”€â–¶ A-R09    (LATS Updates â€” Ownership/Borrowing â†’ Advanced Lifetimes)        â”‚                        â•‘
â•‘  â”‚    â¬œ        â¬œ                                                                        â”‚                        â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â•‘
â•‘                                            â”‚                                                                     â•‘
â•‘                                            â–¼                                                                     â•‘
â•‘                                         A-V02 (Validation Gate)                                                  â•‘
â•‘                                            â¬œ                                                                     â•‘
â•‘                                                                                                                  â•‘
â•‘  PARALLEL EXECUTION: A-R06+A-R08 can run simultaneously. A-R07+A-R09 can run after their prerequisites.         â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-R06: CTSS UPDATE PART 1 â€” Primitive, Compound, Reference, Function Types

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R06: CTSS UPDATE PART 1
STATUS: â¬œ NEXT
OUTPUT: TERAS-LANG-CTSS-UPDATE-1_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-R05 (hash: 179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R06: CTSS UPDATE PART 1

## PROTOCOL DECLARATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                                               â•‘
â•‘  â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â•‘
â•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•— â•‘
â•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â•‘
â•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â•‘
â•‘  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•‘
â•‘   â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•    â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•     â•šâ•â•     â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•  â•‘
â•‘                                                                                                               â•‘
â•‘  PROTOCOL: EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY                                          â•‘
â•‘                                                                                                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  MANDATORY REQUIREMENTS:                                                                                      â•‘
â•‘                                                                                                               â•‘
â•‘  â€¢ MINIMUM LINES: 3,000 â€” This is a HARD REQUIREMENT, not a suggestion                                        â•‘
â•‘  â€¢ EVERY type must have: syntax, semantics, representation, validation, threat analysis                       â•‘
â•‘  â€¢ EVERY edge case must be documented with explicit behavior                                                  â•‘
â•‘  â€¢ NO placeholders, NO "TBD", NO "similar to", NO vague language                                              â•‘
â•‘  â€¢ ALL threats from taxonomy T2.* (Type Safety) must be addressed                                             â•‘
â•‘  â€¢ Cross-reference MUST include specific section numbers, not just document names                             â•‘
â•‘                                                                                                               â•‘
â•‘  THREAT ELIMINATION MANDATE:                                                                                  â•‘
â•‘                                                                                                               â•‘
â•‘  This specification MUST eliminate the following threats by construction:                                     â•‘
â•‘  â€¢ T2.01 Type Confusion (Semantic)                                                                            â•‘
â•‘  â€¢ T2.02 Unsafe Cast                                                                                          â•‘
â•‘  â€¢ T2.03 Variance Violation                                                                                   â•‘
â•‘  â€¢ T2.04 Coercion Abuse                                                                                       â•‘
â•‘  â€¢ T2.05 Generic Type Parameter Escape                                                                        â•‘
â•‘  â€¢ T2.06 Lifetime Escape                                                                                      â•‘
â•‘  â€¢ T4.16 Information Flow Violation                                                                           â•‘
â•‘  â€¢ T4.17 Covert Channel                                                                                       â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## SESSION METADATA

```
SESSION ID:          A-R06
TYPE:                Research (R)
TITLE:               Core Type System Specification Update Part 1
SUBTITLE:            Primitive, Compound, Reference, and Function Types
OUTPUT:              TERAS-LANG-CTSS-UPDATE-1_v1.0.0.md
MINIMUM LINES:       3,000
DATE:                2026-01-02
PREREQUISITE:        A-R05 (179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0)
PARALLEL SAFE WITH:  A-R08 (LATS Update Part 1)
```

## PREREQUISITE VERIFICATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  MANDATORY â€” VERIFY BEFORE PROCEEDING                                                                         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  STEP 1: Verify A-R05 exists in project knowledge                                                             â•‘
â•‘  STEP 2: Verify A-R05 hash: 179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0                   â•‘
â•‘  STEP 3: If mismatch â†’ STOP and report "PREREQUISITE HASH MISMATCH"                                           â•‘
â•‘  STEP 4: Verify CTSS_v1_0_1.md exists in project knowledge                                                    â•‘
â•‘  STEP 5: If any verification fails â†’ ABORT                                                                    â•‘
â•‘                                                                                                               â•‘
â•‘  Required prerequisite documents:                                                                             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚ Document                              â”‚ Purpose                                                         â”‚  â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â•‘
â•‘  â”‚ TERAS-LANG-AST_v1.0.0.md              â”‚ AST type node definitions to align with                         â”‚  â•‘
â•‘  â”‚ CTSS_v1_0_1.md                        â”‚ Base type system specification to update                        â”‚  â•‘
â•‘  â”‚ teras-lang-foundation-v0_3_1.md       â”‚ Language design principles                                      â”‚  â•‘
â•‘  â”‚ TERAS_MASTER_ARCHITECTURE_v3_2_2      â”‚ 8 Laws, security requirements                                   â”‚  â•‘
â•‘  â”‚ TERAS-LANG-GRAMMAR-EXPR_v1.0.0.md     â”‚ Type expression syntax                                          â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## OBJECTIVE

Update the Core Type System Specification (CTSS) to align with:
1. Grammar specifications (A-R01 through A-R04)
2. AST node definitions (A-R05)
3. TERAS security requirements from Master Architecture

This is PART 1, covering:
- Primitive Types
- Compound Types (tuples, arrays, slices)
- Reference Types (references, pointers)
- Function Types

Part 2 (A-R07) will cover:
- Security Types (Secret, Tainted, Sanitized, Labeled)
- Effect Types
- Capability Types
- Session Types

## REQUIRED OUTPUT STRUCTURE

```
DOCUMENT: TERAS-LANG-CTSS-UPDATE-1_v1.0.0.md

STRUCTURE:
â”œâ”€â”€ SECTION 1: Document Metadata and Version Control (100+ lines)
â”œâ”€â”€ SECTION 2: Type System Foundations Update (300+ lines)
â”œâ”€â”€ SECTION 3: Primitive Types â€” Complete Specification (500+ lines)
â”œâ”€â”€ SECTION 4: Compound Types â€” Complete Specification (500+ lines)
â”œâ”€â”€ SECTION 5: Reference Types â€” Complete Specification (500+ lines)
â”œâ”€â”€ SECTION 6: Function Types â€” Complete Specification (400+ lines)
â”œâ”€â”€ SECTION 7: Type Syntax â†” Semantics Mapping (300+ lines)
â”œâ”€â”€ SECTION 8: AST Node â†” Type Alignment (200+ lines)
â”œâ”€â”€ SECTION 9: Threat Analysis and Elimination (200+ lines)
â””â”€â”€ SECTION 10: Anti-Hallucination Verification (100+ lines)
```

## SECTION-BY-SECTION REQUIREMENTS

### SECTION 1: Document Metadata and Version Control (100+ lines)

```
REQUIRED CONTENT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1.1 Document Header with ASCII box art
1.2 Version: 1.0.0
1.3 Date: 2026-01-02
1.4 Prerequisite chain with hashes
1.5 Supersedes: CTSS_v1_0_1.md Sections [list specific sections]
1.6 Changelog from CTSS_v1_0_1.md
1.7 Cross-reference index
```

### SECTION 2: Type System Foundations Update (300+ lines)

```
REQUIRED CONTENT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.1 Type Universe Definition
    - Kind hierarchy (Type, Lifetime, Effect, SecurityLevel, Capability)
    - Universe levels (for impredicativity control)
    - Well-formedness rules

2.2 Type Equality
    - Structural equality rules
    - Nominal equality rules
    - When each applies

2.3 Subtyping Foundations
    - Subtype relation definition
    - Variance rules (covariant, contravariant, invariant)
    - Subtyping and security labels

2.4 Type Inference Foundations
    - Unification algorithm
    - Constraint generation
    - Constraint solving

2.5 Alignment with 8 Laws
    - How type system enforces LAW-1 (memory safety)
    - How type system enforces LAW-2 (type safety)
    - How type system enforces LAW-3 (information flow)
```

### SECTION 3: Primitive Types â€” Complete Specification (500+ lines)

```
FOR EACH PRIMITIVE TYPE, PROVIDE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
A. Syntax (grammar reference to A-R02/A-R04)
B. Semantics (mathematical model)
C. Representation (memory layout)
D. Operations (all valid operations)
E. Conversions (safe conversions, no unsafe casts)
F. Literals (from A-R01)
G. Default value (if any)
H. Security properties
I. AST node alignment (from A-R05)
J. Threat analysis

PRIMITIVE TYPES TO SPECIFY:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3.1 Boolean Type (bool)
    - Size: 1 byte, valid values: 0x00 (false), 0x01 (true)
    - THREAT: T2.01 â€” Document how invalid bit patterns are prevented

3.2 Integer Types
    3.2.1 Signed: i8, i16, i32, i64, i128, isize
    3.2.2 Unsigned: u8, u16, u32, u64, u128, usize
    - THREAT: T8.01-T8.05 â€” Document overflow behavior (panic vs wrap)
    - Specify: Checked, Wrapping, Saturating, Overflowing variants

3.3 Floating-Point Types
    3.3.1 f32 (IEEE 754 binary32)
    3.3.2 f64 (IEEE 754 binary64)
    - THREAT: T8.07-T8.10 â€” Document precision, comparison, NaN handling

3.4 Character Type (char)
    - Unicode scalar value (0x0000-0xD7FF, 0xE000-0x10FFFF)
    - Size: 4 bytes
    - THREAT: Document invalid codepoint prevention

3.5 Unit Type (())
    - Zero-sized type
    - Single inhabitant

3.6 Never Type (!)
    - Uninhabited type
    - Subtype of all types
    - Coercion rules
```

### SECTION 4: Compound Types â€” Complete Specification (500+ lines)

```
4.1 Tuple Types
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Syntax: (T1, T2, ..., Tn)
    
    SPECIFY:
    - Maximum arity
    - Field access syntax (.0, .1, etc.)
    - Structural typing rules
    - Unit as empty tuple
    - Memory layout (each field aligned)
    - Destructuring patterns
    - AST node: TupleType from A-R05

4.2 Array Types
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Syntax: [T; N]
    
    SPECIFY:
    - T must be Sized
    - N must be const expression
    - N must fit in usize
    - Memory layout (contiguous, stride = size_of::<T>())
    - Index type (usize only)
    - Bounds checking (ALWAYS â€” eliminates T1.12, T1.13)
    - THREAT: T1.12 Out-of-Bounds Read â€” eliminated by bounds check
    - THREAT: T1.13 Out-of-Bounds Write â€” eliminated by bounds check
    - AST node: ArrayType from A-R05

4.3 Slice Types
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Syntax: [T]
    
    SPECIFY:
    - Dynamically-sized type (DST)
    - Cannot be used directly, only behind reference
    - Fat pointer representation (ptr + len)
    - Bounds checking (ALWAYS)
    - Relationship to arrays
    - AST node: SliceType from A-R05

4.4 String Slice Type (str)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SPECIFY:
    - UTF-8 encoded
    - Dynamically-sized
    - Validity invariant (always valid UTF-8)
    - THREAT: T3.06 XSS â€” document how invalid UTF-8 is prevented
```

### SECTION 5: Reference Types â€” Complete Specification (500+ lines)

```
5.1 Shared Reference Type (&T)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SPECIFY:
    - Immutable borrow
    - Aliasing allowed
    - Lifetime parameter (explicit or inferred)
    - Memory representation (single pointer)
    - Validity: non-null, aligned, points to valid T
    - THREAT: T1.04 Use-After-Free â€” eliminated by lifetime system
    - THREAT: T1.06 Null Pointer â€” eliminated by non-null invariant
    - THREAT: T1.07 Dangling Pointer â€” eliminated by lifetime system

5.2 Mutable Reference Type (&mut T)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SPECIFY:
    - Mutable borrow
    - NO aliasing (unique access)
    - Lifetime parameter
    - Memory representation (single pointer)
    - Reborrowing rules
    - THREAT: T7.07 Data Race â€” eliminated by uniqueness

5.3 Raw Pointer Types (*const T, *mut T)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SPECIFY:
    - Unsafe to dereference
    - May be null
    - May be dangling
    - May be unaligned
    - Required capability: unsafe_pointer
    - Conversion from references
    - CRITICAL THREAT ANALYSIS:
      - T1.01-T1.15 â€” All memory threats possible if misused
      - Document required capability gates
      - Document audit requirements

5.4 Reference Variance
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SPECIFY:
    - &'a T: covariant in 'a, covariant in T
    - &'a mut T: covariant in 'a, invariant in T
    - THREAT: T2.03 Variance Violation â€” document prevention
```

### SECTION 6: Function Types â€” Complete Specification (400+ lines)

```
6.1 Function Pointer Types
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Syntax: fn(T1, T2) -> R
    
    SPECIFY:
    - No captured environment
    - Calling conventions (extern "Rust", extern "C", etc.)
    - Effect annotations
    - Memory representation
    - Safety requirements

6.2 Closure Types
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SPECIFY:
    - Fn trait bounds
    - FnMut trait bounds
    - FnOnce trait bounds
    - Capture modes (by reference, by mutable reference, by value)
    - Anonymous type generation
    - Size calculation

6.3 Function Type with Effects
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Syntax: fn(T1, T2) -> R with effects E
    
    SPECIFY:
    - Effect set declaration
    - Effect polymorphism
    - Effect inference
    - Subeffecting rules
    - Cross-reference to A-R10, A-R11

6.4 Function Type Variance
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SPECIFY:
    - Contravariant in parameter types
    - Covariant in return type
    - Invariant in effect sets (or covariant?)
```

### SECTION 7: Type Syntax â†” Semantics Mapping (300+ lines)

```
REQUIRED CONTENT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
7.1 Complete mapping table from grammar productions to type semantics
7.2 Parsing type expressions
7.3 Type expression evaluation
7.4 Type normalization
7.5 Type canonicalization

MAPPING TABLE FORMAT:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Grammar Production          â”‚ AST Node (A-R05)            â”‚ Type Semantics            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TypePathSegment             â”‚ TypePath                    â”‚ Named type lookup         â”‚
â”‚ TupleType                   â”‚ TupleTypeNode               â”‚ Product type              â”‚
â”‚ ArrayType                   â”‚ ArrayTypeNode               â”‚ Fixed-size sequence       â”‚
â”‚ ...                         â”‚ ...                         â”‚ ...                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### SECTION 8: AST Node â†” Type Alignment (200+ lines)

```
REQUIRED CONTENT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
8.1 For each type AST node from A-R05, specify:
    - Corresponding type constructor
    - Type checking procedure
    - Error messages for invalid types

8.2 Type annotation processing
8.3 Type inference integration points
```

### SECTION 9: Threat Analysis and Elimination (200+ lines)

```
REQUIRED CONTENT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
For EACH threat in scope, document:

THREAT: T2.01 Type Confusion (Semantic)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Attack vector: [describe]
- TERAS prevention: [specific mechanism]
- Verification: [how to verify prevention]
- Status: ELIMINATED / MITIGATED / DETECTED

THREAT: T2.02 Unsafe Cast
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Attack vector: [describe]
- TERAS prevention: [specific mechanism]
- Verification: [how to verify prevention]
- Status: ELIMINATED

[Continue for all T2.*, T4.16, T4.17]
```

### SECTION 10: Anti-Hallucination Verification (100+ lines)

```
VERIFICATION CHECKLIST:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Before completing output, verify:

â–¡ All primitive types have complete A-J specifications
â–¡ All compound types have complete specifications
â–¡ All reference types have complete specifications
â–¡ All function types have complete specifications
â–¡ All grammar references verified to exist in A-R01 through A-R04
â–¡ All AST node references verified to exist in A-R05
â–¡ All cross-references include specific section numbers
â–¡ No "TBD", "TODO", "FIXME", "placeholder" in document
â–¡ No "typically", "usually", "generally", "commonly"
â–¡ Minimum 3,000 lines achieved
â–¡ All threats T2.*, T4.16, T4.17 have documented status
â–¡ Output hash computed
```

## OUTPUT FORMAT

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DOCUMENT: TERAS-LANG-CTSS-UPDATE-1_v1.0.0.md
DATE: 2026-01-02
SESSION: A-R06
PREREQUISITE: A-R05 (179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[Full document content - 3,000+ lines]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
OUTPUT HASH: [SHA-256 of content above this line]
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## FINAL INSTRUCTION

Generate the complete TERAS-LANG-CTSS-UPDATE-1_v1.0.0.md document with:
- Minimum 3,000 lines
- All sections complete
- All threats addressed
- All cross-references verified
- Output hash at end

BEGIN GENERATION.
```


---

## A-R07: CTSS UPDATE PART 2 â€” Security, Effect, Capability, Session Types

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R07: CTSS UPDATE PART 2
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-CTSS-UPDATE-2_v1.0.0.md
MINIMUM LINES: 3,500
PREREQUISITE: A-R06 (hash to be determined after A-R06 completes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R07: CTSS UPDATE PART 2

## PROTOCOL DECLARATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PROTOCOL: EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  THIS IS THE MOST CRITICAL TYPE SYSTEM SPECIFICATION                                                          â•‘
â•‘                                                                                                               â•‘
â•‘  Security types, effect types, capability types, and session types are the CORE INNOVATION of TERAS-LANG.    â•‘
â•‘  These types are what make TERAS different from every other language.                                         â•‘
â•‘  These types are what ELIMINATE entire classes of security vulnerabilities BY CONSTRUCTION.                   â•‘
â•‘                                                                                                               â•‘
â•‘  THREAT ELIMINATION MANDATE:                                                                                  â•‘
â•‘  â€¢ T3.* ALL Injection Threats â€” eliminated by Tainted<T>/Sanitized<T>                                         â•‘
â•‘  â€¢ T4.* ALL Information Disclosure â€” eliminated by Secret<T>/Labeled<T>                                       â•‘
â•‘  â€¢ T5.* ALL AuthN/AuthZ Bypass â€” eliminated by Capability types                                               â•‘
â•‘  â€¢ T6.* ALL Crypto Weaknesses â€” eliminated by Effect system                                                   â•‘
â•‘  â€¢ T11.* ALL Protocol Threats â€” eliminated by Session types                                                   â•‘
â•‘                                                                                                               â•‘
â•‘  MINIMUM LINES: 3,500 â€” This is a HARD REQUIREMENT                                                            â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## SESSION METADATA

```
SESSION ID:          A-R07
TYPE:                Research (R)
TITLE:               Core Type System Specification Update Part 2
SUBTITLE:            Security Types, Effect Types, Capability Types, Session Types
OUTPUT:              TERAS-LANG-CTSS-UPDATE-2_v1.0.0.md
MINIMUM LINES:       3,500
DATE:                [DATE]
PREREQUISITE:        A-R06 (hash: [USER: INSERT A-R06 HASH HERE])
PARALLEL SAFE WITH:  A-R09 (LATS Update Part 2)
```

## PREREQUISITE VERIFICATION

```
MANDATORY â€” VERIFY BEFORE PROCEEDING:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chat    â”‚ SHA-256 Hash (MUST MATCH)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ A-R06   â”‚ [USER: INSERT A-R06 HASH HERE]                                     â”‚
â”‚ A-R05   â”‚ 179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## REQUIRED OUTPUT STRUCTURE

```
DOCUMENT: TERAS-LANG-CTSS-UPDATE-2_v1.0.0.md

STRUCTURE:
â”œâ”€â”€ SECTION 1: Document Metadata (100+ lines)
â”œâ”€â”€ SECTION 2: Security Type System Overview (200+ lines)
â”œâ”€â”€ SECTION 3: Secret<T> Type â€” Complete Specification (400+ lines)
â”œâ”€â”€ SECTION 4: Tainted<T> Type â€” Complete Specification (400+ lines)
â”œâ”€â”€ SECTION 5: Sanitized<T> Type â€” Complete Specification (400+ lines)
â”œâ”€â”€ SECTION 6: Labeled<T, L> Type â€” Complete Specification (400+ lines)
â”œâ”€â”€ SECTION 7: Effect Type System (500+ lines)
â”œâ”€â”€ SECTION 8: Capability Type System (500+ lines)
â”œâ”€â”€ SECTION 9: Session Types (400+ lines)
â”œâ”€â”€ SECTION 10: Type Interactions and Composition (200+ lines)
â”œâ”€â”€ SECTION 11: Threat Elimination Proof (200+ lines)
â””â”€â”€ SECTION 12: Anti-Hallucination Verification (100+ lines)
```

## DETAILED SECTION REQUIREMENTS

### SECTION 3: Secret<T> Type â€” Complete Specification (400+ lines)

```
Secret<T> â€” PREVENTS INFORMATION DISCLOSURE

3.1 Definition
    - Secret<T> wraps any type T
    - Contents CANNOT be observed without declassify
    - declassify requires explicit capability

3.2 Construction
    - Secret::new(value: T) -> Secret<T>
    - Only callable with appropriate capability

3.3 Operations PROHIBITED
    - Debug trait NOT implemented
    - Display trait NOT implemented
    - ToString NOT implemented
    - NO implicit coercion to T
    - NO comparison (PartialEq, Eq)
    - NO ordering (PartialOrd, Ord)
    - NO hashing (Hash)

3.4 Operations ALLOWED
    - map: Secret<T> -> (T -> U) -> Secret<U> [with capability]
    - and_then: Secret<T> -> (T -> Secret<U>) -> Secret<U>
    - declassify: Secret<T> -> T [REQUIRES Declassify capability + audit]

3.5 Declassification Protocol
    - Requires: Capability<Declassify>
    - Requires: AuditContext
    - Produces: Audit log entry with:
      - Timestamp
      - Caller identity
      - Justification string
      - Data hash (not data itself)
      - Stack trace

3.6 Memory Protections
    - Zeroization on drop
    - No swap to disk
    - Guard pages (where platform supports)
    - THREAT: T4.05 Secret in Memory Dump â€” MITIGATED by zeroization

3.7 Threat Elimination
    - T4.01 Secret in Logs â€” ELIMINATED: no Display/Debug
    - T4.02 Secret in Error Messages â€” ELIMINATED: no Display
    - T4.03 Secret in URLs â€” ELIMINATED: no ToString
    - T4.04 Secret in Source Code â€” DETECTED: linting rules
    - T4.06 Timing Attack â€” MITIGATED: constant-time comparison available
```

### SECTION 4: Tainted<T> Type â€” Complete Specification (400+ lines)

```
Tainted<T> â€” MARKS UNTRUSTED INPUT

4.1 Definition
    - Tainted<T> marks data from untrusted sources
    - CANNOT be used in sensitive operations without sanitization
    - Propagates through all operations (taint tracking)

4.2 Taint Sources (ALL external input is Tainted)
    - Network input: Tainted<Bytes>
    - File input: Tainted<Bytes>
    - Environment variables: Tainted<String>
    - Command line arguments: Tainted<String>
    - User input: Tainted<String>
    - Database results: Tainted<Row> (configurable)
    - Deserialized data: Tainted<T>

4.3 Taint Propagation Rules
    - tainted + anything = tainted
    - Tainted<T> op T = Tainted<Result>
    - Tainted<T> op Tainted<U> = Tainted<Result>
    - map preserves taint
    - Struct with any Tainted field is fully Tainted

4.4 Operations PROHIBITED on Tainted
    - SQL query execution
    - Command execution
    - File path construction
    - HTML rendering
    - eval() or equivalent
    - Cryptographic operations
    - LDAP queries
    - XPath queries
    - Any injection-susceptible operation

4.5 Sanitization Protocol
    - sanitize<V: Validator>(t: Tainted<T>) -> Result<Sanitized<T, V>, ValidationError>
    - Validator trait defines validation rules
    - Sanitized<T, V> carries proof of validation

4.6 Threat Elimination
    - T3.01 SQL Injection â€” ELIMINATED: Tainted cannot touch SQL
    - T3.02 Command Injection â€” ELIMINATED: Tainted cannot touch exec
    - T3.03 LDAP Injection â€” ELIMINATED
    - T3.04 XPath Injection â€” ELIMINATED
    - T3.05 XML Injection (XXE) â€” ELIMINATED
    - T3.06 XSS â€” ELIMINATED: Tainted cannot touch HTML
    - T3.07-T3.15 â€” ALL ELIMINATED
```

### SECTION 7: Effect Type System (500+ lines)

```
EFFECT TYPES â€” TRACK COMPUTATIONAL EFFECTS

7.1 Effect Kind Definition
    - Effects form a lattice
    - Pure < IO < Unsafe
    - Effect sets are join-semilattice

7.2 Built-in Effects
    - pure: no side effects
    - io: performs I/O operations
    - alloc: allocates memory
    - panic: may panic
    - diverge: may not terminate
    - unsafe: performs unsafe operations
    - network: performs network operations
    - filesystem: accesses filesystem
    - crypto: performs cryptographic operations
    - audit: writes audit logs

7.3 Custom Effects (D40 from Master Architecture)
    - effect declaration syntax
    - effect handlers
    - effect polymorphism

7.4 Effect Checking
    - Functions declare effects
    - Callers must have declared effects
    - Effect inference rules
    - Effect subtyping

7.5 Effect and Security Integration
    - Some effects require capabilities
    - crypto effect requires Capability<Crypto>
    - network effect requires Capability<Network>
    - filesystem effect requires Capability<FileSystem>
```

### SECTION 8: Capability Type System (500+ lines)

```
CAPABILITY TYPES â€” FINE-GRAINED AUTHORIZATION

8.1 Capability Definition
    - Capability<P> represents permission P
    - Cannot be forged (no constructors exposed)
    - Cannot be duplicated (linear by default)
    - Can be attenuated (reduce permissions)

8.2 Built-in Capabilities
    - Capability<FileRead>
    - Capability<FileWrite>
    - Capability<Network>
    - Capability<Process>
    - Capability<Crypto>
    - Capability<Declassify>
    - Capability<Unsafe>
    - Capability<Audit>

8.3 Capability Operations
    - attenuate: reduce permissions
    - delegate: pass to callee (consumes or borrows)
    - revoke: invalidate capability

8.4 Capability Acquisition
    - Entry point grants initial capabilities
    - Based on configuration/policy
    - Cannot be synthesized in code

8.5 Threat Elimination
    - T5.01 Authentication Bypass â€” MITIGATED: capabilities from auth
    - T5.02 Authorization Bypass â€” ELIMINATED: no capability = no access
    - T5.03 Privilege Escalation â€” ELIMINATED: cannot forge capabilities
    - T5.04 Capability Leak â€” MITIGATED: linear types
```

### SECTION 9: Session Types (400+ lines)

```
SESSION TYPES â€” PROTOCOL COMPLIANCE BY CONSTRUCTION

9.1 Session Type Definition
    - Encode protocol states in types
    - Transitions checked at compile time
    - Protocol violations are type errors

9.2 Session Type Constructors
    - Send<T, S>: send T, continue with S
    - Recv<T, S>: receive T, continue with S
    - Choose<S1, S2>: choose between protocols
    - Offer<S1, S2>: offer choice to peer
    - End: protocol complete
    - Rec<S>: recursive protocol

9.3 Duality
    - Every session type has a dual
    - Client and server types must be dual
    - dual(Send<T, S>) = Recv<T, dual(S)>
    - dual(Recv<T, S>) = Send<T, dual(S)>
    - dual(Choose<S1, S2>) = Offer<dual(S1), dual(S2)>

9.4 Threat Elimination
    - T11.01 Man-in-the-Middle â€” MITIGATED: crypto required
    - T11.02 Replay Attack â€” ELIMINATED: state machine
    - T11.03 Downgrade Attack â€” ELIMINATED: protocol fixed
    - T11.04 Protocol Confusion â€” ELIMINATED: types
    - T11.05 State Machine Violation â€” ELIMINATED: types
```

## OUTPUT FORMAT

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DOCUMENT: TERAS-LANG-CTSS-UPDATE-2_v1.0.0.md
DATE: [DATE]
SESSION: A-R07
PREREQUISITE: A-R06 ([A-R06 HASH])
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[Full document content - 3,500+ lines]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
OUTPUT HASH: [SHA-256 of content above this line]
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
```

---

## A-R08: LATS UPDATE PART 1 â€” Ownership and Borrowing

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R08: LATS UPDATE PART 1
STATUS: â¬œ PENDING (Can run parallel with A-R06)
OUTPUT: TERAS-LANG-LATS-UPDATE-1_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-R05 (hash: 179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R08: LATS UPDATE PART 1

## PROTOCOL DECLARATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PROTOCOL: EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  LIFETIME AND ALIASING TYPE SYSTEM (LATS) â€” MEMORY SAFETY BY CONSTRUCTION                                     â•‘
â•‘                                                                                                               â•‘
â•‘  The LATS is what makes TERAS memory-safe WITHOUT garbage collection.                                         â•‘
â•‘  Every memory safety vulnerability is eliminated by this specification.                                       â•‘
â•‘                                                                                                               â•‘
â•‘  THREAT ELIMINATION MANDATE:                                                                                  â•‘
â•‘  â€¢ T1.01-T1.15 ALL Memory Safety Threats â€” ELIMINATED                                                         â•‘
â•‘  â€¢ T7.01-T7.10 ALL Concurrency Threats â€” ELIMINATED                                                           â•‘
â•‘                                                                                                               â•‘
â•‘  MINIMUM LINES: 3,000 â€” HARD REQUIREMENT                                                                      â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## SESSION METADATA

```
SESSION ID:          A-R08
TYPE:                Research (R)
TITLE:               Lifetime and Aliasing Type System Update Part 1
SUBTITLE:            Ownership Model and Borrowing Rules
OUTPUT:              TERAS-LANG-LATS-UPDATE-1_v1.0.0.md
MINIMUM LINES:       3,000
DATE:                [DATE]
PREREQUISITE:        A-R05 (179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0)
PARALLEL SAFE WITH:  A-R06 (CTSS Update Part 1)
```

## REQUIRED OUTPUT STRUCTURE

```
DOCUMENT: TERAS-LANG-LATS-UPDATE-1_v1.0.0.md

STRUCTURE:
â”œâ”€â”€ SECTION 1: Document Metadata (100+ lines)
â”œâ”€â”€ SECTION 2: Ownership Model Foundations (400+ lines)
â”œâ”€â”€ SECTION 3: Move Semantics (400+ lines)
â”œâ”€â”€ SECTION 4: Copy Semantics (300+ lines)
â”œâ”€â”€ SECTION 5: Borrowing Rules (500+ lines)
â”œâ”€â”€ SECTION 6: Lifetime Parameters (400+ lines)
â”œâ”€â”€ SECTION 7: Lifetime Elision Rules (300+ lines)
â”œâ”€â”€ SECTION 8: Borrow Checker Algorithm (400+ lines)
â”œâ”€â”€ SECTION 9: Threat Elimination Proof (200+ lines)
â””â”€â”€ SECTION 10: Anti-Hallucination Verification (100+ lines)
```

## KEY SECTIONS

### SECTION 2: Ownership Model Foundations (400+ lines)

```
2.1 Ownership Rules
    - Every value has exactly one owner
    - Owner is responsible for dropping
    - Ownership can be transferred (move)
    - When owner goes out of scope, value is dropped

2.2 Resource Acquisition Is Initialization (RAII)
    - Resources acquired in constructor
    - Resources released in destructor
    - No manual memory management

2.3 Drop Order
    - Fields dropped in declaration order
    - Local variables dropped in reverse declaration order
    - Drop must not panic (or must be handled)

2.4 Ownership and Memory Layout
    - Owned values may be stack or heap
    - Owner controls memory location
    - No hidden references
```

### SECTION 5: Borrowing Rules (500+ lines)

```
5.1 Shared Borrow Rules
    - Multiple shared borrows allowed
    - No mutable borrows while shared borrows exist
    - Original value cannot be moved while borrowed
    - Borrow expires when last use (NLL)

5.2 Mutable Borrow Rules
    - At most one mutable borrow
    - No shared borrows while mutable borrow exists
    - No access to original while mutable borrow exists
    - Mutable borrow is exclusive

5.3 Reborrowing
    - &mut can be reborrowed as &mut (shorter lifetime)
    - &mut can be reborrowed as & (shared)
    - Original borrow suspended during reborrow

5.4 Two-Phase Borrow
    - Reserved mutable borrows
    - Activated on first use
    - Allows certain patterns like vec.push(vec.len())

5.5 Threat Elimination
    - T1.04 Use-After-Free â€” ELIMINATED: borrow checker
    - T1.05 Double-Free â€” ELIMINATED: single owner
    - T1.07 Dangling Pointer â€” ELIMINATED: lifetime checking
    - T7.07 Data Race â€” ELIMINATED: no aliasing XOR mutability
```

## OUTPUT FORMAT

Same as A-R06.
```

---

## A-R09: LATS UPDATE PART 2 â€” Advanced Lifetimes

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R09: LATS UPDATE PART 2
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-LATS-UPDATE-2_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-R08 (hash: [USER INSERT AFTER A-R08])
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
FOCUS AREAS:
- Higher-Ranked Trait Bounds (HRTB)
- Lifetime subtyping
- Variance and lifetimes
- Non-Lexical Lifetimes (NLL) full specification
- Self-referential structures
- Pinning and memory stability
- Lifetime in async contexts
- Lifetime projections
- GAT (Generic Associated Types) lifetime implications
```

---

## A-V02: TYPE SYSTEM VALIDATION GATE

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-V02: TYPE SYSTEM VALIDATION
STATUS: â¬œ PENDING
OUTPUT: VALIDATION-REPORT-A-V02_v1.0.0.md
MINIMUM LINES: 2,000
PREREQUISITE: A-R06, A-R07, A-R08, A-R09 (all hashes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS VALIDATION SESSION A-V02: TYPE SYSTEM VALIDATION

## PROTOCOL DECLARATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  VALIDATION GATE â€” NO PROGRESSION WITHOUT PASS                                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  This validation gate MUST PASS before Wave 3 can begin.                                                      â•‘
â•‘                                                                                                               â•‘
â•‘  VALIDATION REQUIREMENTS:                                                                                     â•‘
â•‘  1. All type definitions are complete (no TBD)                                                                â•‘
â•‘  2. All type rules are consistent (no contradictions)                                                         â•‘
â•‘  3. All threat eliminations are verified                                                                      â•‘
â•‘  4. CTSS and LATS are aligned                                                                                 â•‘
â•‘  5. Security types integrate with effect/capability systems                                                   â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## PREREQUISITE VERIFICATION

```
MANDATORY â€” ALL FOUR DOCUMENTS MUST BE VERIFIED:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chat    â”‚ SHA-256 Hash (MUST MATCH)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ A-R06   â”‚ [USER: INSERT A-R06 HASH]                                          â”‚
â”‚ A-R07   â”‚ [USER: INSERT A-R07 HASH]                                          â”‚
â”‚ A-R08   â”‚ [USER: INSERT A-R08 HASH]                                          â”‚
â”‚ A-R09   â”‚ [USER: INSERT A-R09 HASH]                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## VALIDATION MATRIX

```
VALIDATION CHECKS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. COMPLETENESS CHECK
   â–¡ Every type from CTSS has complete definition
   â–¡ Every type from LATS has complete definition
   â–¡ Every AST type node has corresponding type semantics
   â–¡ Every security type has threat analysis

2. CONSISTENCY CHECK
   â–¡ No contradictory type rules
   â–¡ Variance rules are consistent
   â–¡ Subtyping is antisymmetric and transitive
   â–¡ Type equality is symmetric and transitive

3. INTEGRATION CHECK
   â–¡ Security types work with effects
   â–¡ Capabilities gate appropriate effects
   â–¡ Lifetimes work with security types
   â–¡ Session types integrate with effects

4. THREAT ELIMINATION VERIFICATION
   â–¡ T1.* (Memory) â€” verify LATS eliminates all
   â–¡ T2.* (Type) â€” verify CTSS eliminates all
   â–¡ T3.* (Injection) â€” verify Tainted/Sanitized eliminates all
   â–¡ T4.* (Disclosure) â€” verify Secret/Labeled eliminates all
   â–¡ T5.* (AuthZ) â€” verify Capabilities eliminates all
   â–¡ T7.* (Concurrency) â€” verify ownership eliminates all
   â–¡ T11.* (Protocol) â€” verify Session types eliminates all

5. CROSS-REFERENCE VERIFICATION
   â–¡ All references to A-R05 AST nodes valid
   â–¡ All references to grammar productions valid
   â–¡ All references to foundation documents valid
```

## OUTPUT FORMAT

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  VALIDATION RESULT: [PASS / FAIL]                                                                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  If PASS:                                                                                                     â•‘
â•‘    - Wave 3 (Effects & Security) may proceed                                                                  â•‘
â•‘    - Type system foundation is solid                                                                          â•‘
â•‘                                                                                                               â•‘
â•‘  If FAIL:                                                                                                     â•‘
â•‘    - List specific failures                                                                                   â•‘
â•‘    - Identify repair chats needed                                                                             â•‘
â•‘    - Do NOT proceed to Wave 3                                                                                 â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
```


---

# SECTION 8: WAVE 3 PROMPTS (EFFECTS & SECURITY)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                        WAVE 3: EFFECTS & SECURITY                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â•‘
â•‘  â”‚  A-R10 â”€â”€â–¶ A-R11    (Effect System â€” Definition â†’ Handlers)                          â”‚                        â•‘
â•‘  â”‚    â¬œ        â¬œ                                                                        â”‚  PARALLEL GROUP       â•‘
â•‘  â”‚  A-R12 â”€â”€â–¶ A-R13    (Security Labels â€” Lattice â†’ Flow Analysis)                      â”‚                        â•‘
â•‘  â”‚    â¬œ        â¬œ                                                                        â”‚                        â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â•‘
â•‘                                            â”‚                                                                     â•‘
â•‘                                            â–¼                                                                     â•‘
â•‘                                         A-V03 (Validation Gate)                                                  â•‘
â•‘                                            â¬œ                                                                     â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-R10: EFFECT SYSTEM PART 1 â€” Effect Definition and Inference

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R10: EFFECT SYSTEM PART 1
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-EFFECT-1_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-V02 (hash: [USER INSERT AFTER A-V02])
THREATS ADDRESSED: T3.*, T5.*, T14.*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R10: EFFECT SYSTEM PART 1

## PROTOCOL DECLARATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PROTOCOL: EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  EFFECT SYSTEM â€” TRACK AND CONTROL ALL COMPUTATIONAL EFFECTS                                                  â•‘
â•‘                                                                                                               â•‘
â•‘  Effects are the mechanism by which TERAS controls what code CAN DO.                                          â•‘
â•‘  A function without the 'io' effect CANNOT perform I/O. Period.                                               â•‘
â•‘  A function without the 'network' effect CANNOT access the network. Period.                                   â•‘
â•‘                                                                                                               â•‘
â•‘  This eliminates injection attacks by making it a TYPE ERROR to pass tainted                                  â•‘
â•‘  data to functions that perform dangerous operations.                                                         â•‘
â•‘                                                                                                               â•‘
â•‘  MINIMUM LINES: 3,000                                                                                         â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## REQUIRED OUTPUT STRUCTURE

```
â”œâ”€â”€ SECTION 1: Document Metadata (100+ lines)
â”œâ”€â”€ SECTION 2: Effect System Theory (300+ lines)
â”‚   â”œâ”€â”€ 2.1 Effect as Type
â”‚   â”œâ”€â”€ 2.2 Effect Lattice Structure
â”‚   â”œâ”€â”€ 2.3 Effect Polymorphism
â”‚   â””â”€â”€ 2.4 Relationship to Monads
â”œâ”€â”€ SECTION 3: Built-in Effects (500+ lines)
â”‚   â”œâ”€â”€ 3.1 pure Effect (absence of effects)
â”‚   â”œâ”€â”€ 3.2 io Effect
â”‚   â”œâ”€â”€ 3.3 alloc Effect
â”‚   â”œâ”€â”€ 3.4 panic Effect
â”‚   â”œâ”€â”€ 3.5 diverge Effect
â”‚   â”œâ”€â”€ 3.6 unsafe Effect
â”‚   â”œâ”€â”€ 3.7 network Effect
â”‚   â”œâ”€â”€ 3.8 filesystem Effect
â”‚   â”œâ”€â”€ 3.9 crypto Effect
â”‚   â”œâ”€â”€ 3.10 audit Effect
â”‚   â””â”€â”€ 3.11 TERAS-specific Effects
â”œâ”€â”€ SECTION 4: Effect Declaration Syntax (300+ lines)
â”‚   â”œâ”€â”€ 4.1 Grammar integration (ref A-R04)
â”‚   â”œâ”€â”€ 4.2 Effect annotations on functions
â”‚   â”œâ”€â”€ 4.3 Effect bounds on generics
â”‚   â””â”€â”€ 4.4 Effect sets
â”œâ”€â”€ SECTION 5: Effect Inference Algorithm (400+ lines)
â”‚   â”œâ”€â”€ 5.1 Inference rules
â”‚   â”œâ”€â”€ 5.2 Effect propagation
â”‚   â”œâ”€â”€ 5.3 Effect unification
â”‚   â””â”€â”€ 5.4 Error reporting
â”œâ”€â”€ SECTION 6: Effect and Capability Integration (300+ lines)
â”‚   â”œâ”€â”€ 6.1 Effects that require capabilities
â”‚   â”œâ”€â”€ 6.2 Capability-guarded effects
â”‚   â””â”€â”€ 6.3 Effect downgrading with capabilities
â”œâ”€â”€ SECTION 7: Effect and Security Type Integration (300+ lines)
â”‚   â”œâ”€â”€ 7.1 Secret<T> and effect constraints
â”‚   â”œâ”€â”€ 7.2 Tainted<T> and effect constraints
â”‚   â””â”€â”€ 7.3 Sanitized<T> and effect unlocking
â”œâ”€â”€ SECTION 8: Threat Analysis (200+ lines)
â””â”€â”€ SECTION 9: Anti-Hallucination Checklist (100+ lines)
```

### KEY SPECIFICATIONS

```
3.2 io Effect
â•â•â•â•â•â•â•â•â•â•â•â•
DEFINITION:
  - Marks functions that perform input/output
  - Includes: file, console, network, database, IPC

SUBEFFECTS:
  - io encompasses: network, filesystem, console

REQUIREMENTS:
  - Functions with io effect cannot be called from pure context
  - io effect propagates to all callers

THREAT ELIMINATION:
  - Prevents injection by ensuring dangerous operations require effect
  - Tainted data cannot be used in io context without sanitization

3.9 crypto Effect
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DEFINITION:
  - Marks functions performing cryptographic operations
  - Includes: encryption, decryption, signing, verification, hashing, KDF

REQUIREMENTS:
  - Requires Capability<Crypto> at call site
  - All crypto operations must be auditable

SUBEFFECTS:
  - crypto_symmetric
  - crypto_asymmetric
  - crypto_hash
  - crypto_random

THREAT ELIMINATION:
  - T6.01 Weak Algorithm â€” only approved algorithms in stdlib
  - T6.14 RNG Weakness â€” crypto_random requires secure source
```
```

---

## A-R11: EFFECT SYSTEM PART 2 â€” Effect Handlers and Advanced Patterns

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R11: EFFECT SYSTEM PART 2
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-EFFECT-2_v1.0.0.md
MINIMUM LINES: 2,500
PREREQUISITE: A-R10
THREATS ADDRESSED: T3.*, T5.*, T7.*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
FOCUS AREAS:
- Effect handlers (algebraic effects)
- Effect masking and transformation
- Effect polymorphism advanced patterns
- Effect row polymorphism
- Resumable effects
- One-shot effects
- Effect and async interaction
- Effect system soundness proof sketch
```

---

## A-R12: SECURITY LABELS PART 1 â€” Lattice and Label Operations

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R12: SECURITY LABELS PART 1
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-SECURITY-1_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-V02 (parallel with A-R10)
THREATS ADDRESSED: T4.*, T5.*, T6.*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R12: SECURITY LABELS PART 1

## PROTOCOL DECLARATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PROTOCOL: EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  SECURITY LABELS â€” INFORMATION FLOW CONTROL BY CONSTRUCTION                                                   â•‘
â•‘                                                                                                               â•‘
â•‘  Security labels enable compile-time verification of information flow.                                        â•‘
â•‘  Data cannot flow from high-security to low-security without explicit declassification.                       â•‘
â•‘  This ELIMINATES information disclosure by making it a TYPE ERROR.                                            â•‘
â•‘                                                                                                               â•‘
â•‘  THREAT ELIMINATION:                                                                                          â•‘
â•‘  â€¢ T4.16 Information Flow Violation â€” ELIMINATED by label checking                                            â•‘
â•‘  â€¢ T4.17 Covert Channel â€” MITIGATED by label propagation                                                      â•‘
â•‘  â€¢ ALL T4.* â€” ADDRESSED                                                                                       â•‘
â•‘                                                                                                               â•‘
â•‘  MINIMUM LINES: 3,000                                                                                         â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## REQUIRED OUTPUT STRUCTURE

```
â”œâ”€â”€ SECTION 1: Document Metadata (100+ lines)
â”œâ”€â”€ SECTION 2: Security Label Theory (400+ lines)
â”‚   â”œâ”€â”€ 2.1 Lattice-based Information Flow
â”‚   â”œâ”€â”€ 2.2 Security Label Definition
â”‚   â”œâ”€â”€ 2.3 Label Ordering (âŠ‘)
â”‚   â””â”€â”€ 2.4 Label Operations (âŠ”, âŠ“)
â”œâ”€â”€ SECTION 3: Built-in Security Levels (400+ lines)
â”‚   â”œâ”€â”€ 3.1 Public (âŠ¥, bottom)
â”‚   â”œâ”€â”€ 3.2 Internal
â”‚   â”œâ”€â”€ 3.3 Confidential
â”‚   â”œâ”€â”€ 3.4 Secret
â”‚   â”œâ”€â”€ 3.5 TopSecret (âŠ¤, top)
â”‚   â””â”€â”€ 3.6 Custom levels
â”œâ”€â”€ SECTION 4: Labeled Type Wrapper (400+ lines)
â”‚   â”œâ”€â”€ 4.1 Labeled<T, L> type definition
â”‚   â”œâ”€â”€ 4.2 Label propagation rules
â”‚   â”œâ”€â”€ 4.3 Operations on labeled values
â”‚   â””â”€â”€ 4.4 Label inference
â”œâ”€â”€ SECTION 5: Information Flow Rules (500+ lines)
â”‚   â”œâ”€â”€ 5.1 No-read-up rule
â”‚   â”œâ”€â”€ 5.2 No-write-down rule
â”‚   â”œâ”€â”€ 5.3 Assignment rules
â”‚   â”œâ”€â”€ 5.4 Function call rules
â”‚   â””â”€â”€ 5.5 Control flow rules (implicit flows)
â”œâ”€â”€ SECTION 6: Declassification (400+ lines)
â”‚   â”œâ”€â”€ 6.1 Declassification mechanism
â”‚   â”œâ”€â”€ 6.2 Required capabilities
â”‚   â”œâ”€â”€ 6.3 Audit requirements
â”‚   â””â”€â”€ 6.4 Robust declassification
â”œâ”€â”€ SECTION 7: Threat Analysis (200+ lines)
â””â”€â”€ SECTION 8: Anti-Hallucination Checklist (100+ lines)
```

### KEY SPECIFICATIONS

```
2.2 Security Label Definition
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
A security label L is an element of a lattice (L, âŠ‘, âŠ”, âŠ“) where:
- âŠ‘ is a partial order (reflexive, antisymmetric, transitive)
- âŠ” is the least upper bound (join)
- âŠ“ is the greatest lower bound (meet)
- âŠ¥ (Public) is the bottom element
- âŠ¤ (TopSecret) is the top element

STANDARD LATTICE:
  Public âŠ‘ Internal âŠ‘ Confidential âŠ‘ Secret âŠ‘ TopSecret

LATTICE DIAGRAM:
                  TopSecret (âŠ¤)
                       â”‚
                    Secret
                       â”‚
                 Confidential
                       â”‚
                   Internal
                       â”‚
                  Public (âŠ¥)

5.4 Function Call Rules
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
When calling function f: (Labeled<A, L1>) -> Labeled<B, L2>
with argument x: Labeled<A, L_arg>

REQUIREMENTS:
1. L_arg âŠ‘ L1 (argument label must be at most parameter label)
2. Result has label L2 âŠ” L_arg (result tainted by argument)

PROOF: This ensures no information can flow from high to low.
```
```

---

## A-R13: SECURITY LABELS PART 2 â€” Flow Analysis and Enforcement

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R13: SECURITY LABELS PART 2
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-SECURITY-2_v1.0.0.md
MINIMUM LINES: 2,500
PREREQUISITE: A-R12
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
FOCUS AREAS:
- Static information flow analysis algorithm
- Implicit flow tracking
- Covert channel analysis
- Termination channels
- Timing channels (compile-time mitigation)
- Exception channels
- Flow-sensitive label tracking
- Integration with effect system
- Noninterference proof sketch
```

---

## A-V03: EFFECTS AND SECURITY VALIDATION GATE

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-V03: EFFECTS AND SECURITY VALIDATION
STATUS: â¬œ PENDING
OUTPUT: VALIDATION-REPORT-A-V03_v1.0.0.md
MINIMUM LINES: 1,500
PREREQUISITE: A-R10, A-R11, A-R12, A-R13
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# SECTION 9: WAVE 4 PROMPTS (MODULES & MEMORY)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                        WAVE 4: MODULES & MEMORY                                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  A-R14 (Module System)     A-R15 â”€â”€â–¶ A-R16 (Memory Model)                                                        â•‘
â•‘    â¬œ                         â¬œ         â¬œ                                                                        â•‘
â•‘           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                           â•‘
â•‘                                  â–¼                                                                               â•‘
â•‘                               A-V04                                                                              â•‘
â•‘                                  â¬œ                                                                               â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-R14: MODULE SYSTEM

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R14: MODULE SYSTEM
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-MODULE_v1.0.0.md
MINIMUM LINES: 2,500
PREREQUISITE: A-V03
THREATS ADDRESSED: T5.*, T9.*, T14.*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
REQUIRED SECTIONS:
- Module declaration syntax
- Visibility modifiers (pub, pub(crate), pub(super), etc.)
- Module paths and resolution
- Import and export (use declarations)
- Prelude
- Crate organization
- Capability-based module boundaries
- Module-level security enforcement
- THREAT: T9.02 Dependency Confusion â€” module origin verification
- THREAT: T5.02 Authorization Bypass â€” visibility enforcement
```

---

## A-R15: MEMORY MODEL PART 1 â€” Layout and Representation

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R15: MEMORY MODEL PART 1
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-MEMORY-1_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-V03 (parallel with A-R14)
THREATS ADDRESSED: T1.*, T12.01, T12.02
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
REQUIRED SECTIONS:
- Type layout rules (size, alignment, stride)
- Struct layout (repr(Rust), repr(C), repr(packed), repr(align))
- Enum layout (discriminant, data)
- Union layout
- Array layout
- Reference representation
- Fat pointer representation
- Zero-sized types
- Dynamically-sized types
- Niche optimization
- Memory allocation semantics
- THREAT: T12.02 Rowhammer â€” allocation patterns
- THREAT: T1.* â€” memory safety invariants
```

---

## A-R16: MEMORY MODEL PART 2 â€” Concurrent Memory and Atomics

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R16: MEMORY MODEL PART 2
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-MEMORY-2_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-R15
THREATS ADDRESSED: T1.*, T4.05, T4.11, T7.*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
REQUIRED SECTIONS:
- Memory ordering (Relaxed, Acquire, Release, AcqRel, SeqCst)
- Atomic types and operations
- Happens-before relationship
- Synchronizes-with relationship
- Data race definition and prevention
- Memory barriers
- Volatile operations
- Memory-mapped I/O
- Cache considerations
- THREAT: T7.* â€” all concurrency threats
- THREAT: T4.05 Secret in Memory Dump â€” secure memory handling
- THREAT: T4.11 Cold Boot Attack â€” memory encryption hooks
```

---

## A-V04: MODULES AND MEMORY VALIDATION

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-V04: MODULES AND MEMORY VALIDATION
STATUS: â¬œ PENDING
OUTPUT: VALIDATION-REPORT-A-V04_v1.0.0.md
MINIMUM LINES: 1,500
PREREQUISITE: A-R14, A-R15, A-R16
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# SECTION 10: WAVE 5 PROMPTS (TYPE CHECKING)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                         WAVE 5: TYPE CHECKING                                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  A-R17 â”€â”€â–¶ A-R18 (BTCS)     A-R19 â”€â”€â–¶ A-R20 (UTCS)                                                               â•‘
â•‘    â¬œ        â¬œ                 â¬œ         â¬œ                                                                       â•‘
â•‘           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                           â•‘
â•‘                                  â–¼                                                                               â•‘
â•‘                               A-V05                                                                              â•‘
â•‘                                  â¬œ                                                                               â•‘
â•‘                                  â”‚                                                                               â•‘
â•‘                                  â–¼                                                                               â•‘
â•‘                              A-INT1 (Type System Integration)                                                    â•‘
â•‘                                  â¬œ                                                                               â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-R17: BTCS PART 1 â€” Bidirectional Type Checking Core

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R17: BTCS PART 1
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-BTCS-1_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-V04
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
BIDIRECTIONAL TYPE CHECKING SPECIFICATION

REQUIRED SECTIONS:
- Type checking modes (check vs infer)
- Synthesis rules (infer type from term)
- Checking rules (check term against type)
- Mode switching rules
- Subtyping integration
- Judgment forms
- Rule format with premises and conclusions
- Completeness and decidability discussion

NOTATION:
  Î“ âŠ¢ e â‡’ Ï„    (infer: in context Î“, term e synthesizes type Ï„)
  Î“ âŠ¢ e â‡ Ï„    (check: in context Î“, term e checks against type Ï„)

ALL rules must be formally specified with this notation.
```

---

## A-R18: BTCS PART 2 â€” Advanced Type Checking

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R18: BTCS PART 2
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-BTCS-2_v1.0.0.md
MINIMUM LINES: 2,500
PREREQUISITE: A-R17
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
FOCUS AREAS:
- Pattern matching type checking
- Generic instantiation
- Trait resolution
- Coherence checking
- Effect checking integration
- Security label checking integration
- Error recovery and reporting
- Type checking algorithm pseudocode
```

---

## A-R19: UTCS PART 1 â€” Unification and Constraint Solving

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R19: UTCS PART 1
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-UTCS-1_v1.0.0.md
MINIMUM LINES: 3,000
PREREQUISITE: A-V04 (parallel with A-R17)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROMPT SUMMARY

```
UNIFICATION TYPE CHECKING SPECIFICATION

REQUIRED SECTIONS:
- Type variables and metavariables
- Unification algorithm
- Occurs check
- Constraint generation
- Constraint solving
- Substitution application
- Generalization (let-polymorphism)
- Most general unifier (MGU)
```

---

## A-R20: UTCS PART 2 â€” Inference and Elaboration

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R20: UTCS PART 2
STATUS: â¬œ PENDING
OUTPUT: TERAS-LANG-UTCS-2_v1.0.0.md
MINIMUM LINES: 2,500
PREREQUISITE: A-R19
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-V05 & A-INT1

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-V05: TYPE CHECKING VALIDATION
CHAT A-INT1: TYPE SYSTEM INTEGRATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# SECTIONS 11-15: WAVES 6-10 (IR, CODEGEN, OPTIMIZATION, PROOFS, STDLIB)

Due to document length constraints, Waves 6-10 follow the same extreme kiasu pattern:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  WAVE 6: INTERMEDIATE REPRESENTATIONS                                                                            â•‘
â•‘  A-R21 (HIR), A-R22 (MIR), A-R23 (LIR), A-R24 (Transforms), A-V06                                                 â•‘
â•‘  Threats: T1.*, T2.*, T14.*, T9.01                                                                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  WAVE 7: CODE GENERATION                                                                                         â•‘
â•‘  A-R25 (x86-64), A-R26 (ARM64), A-R27 (WASM), A-R28 (RISC-V), A-V07                                               â•‘
â•‘  Threats: T1.*, T4.13, T4.14 (Spectre/Meltdown), T12.*                                                           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  WAVE 8: OPTIMIZATION & SEMANTICS                                                                                â•‘
â•‘  A-R29 (Opt-1), A-R30 (Opt-2), A-R31 (Semantics-1), A-R32 (Semantics-2), A-V08                                    â•‘
â•‘  Threats: T4.06, T4.07 (Timing), T8.*, T10.06                                                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  WAVE 9: SOUNDNESS PROOFS                                                                                        â•‘
â•‘  A-R33 (Soundness-1), A-R34 (Soundness-2), A-R35 (Memory-Proof), A-R36 (InfoFlow-Proof), A-V09                    â•‘
â•‘  Threats: ALL (meta-level proofs that threats are eliminated)                                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  WAVE 10: STANDARD LIBRARY & FFI                                                                                 â•‘
â•‘  A-R37 (Stdlib-1), A-R38 (Stdlib-2), A-R39 (Stdlib-3), A-R40 (FFI), A-V10, A-INT2                                 â•‘
â•‘  Threats: T1.*, T3.*, T5.*, T6.*, T9.*, T10.*, T11.*                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```


---

# DETAILED WAVE 6-10 PROMPTS

## A-R21: HIGH-LEVEL IR (HIR) SPECIFICATION

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R21: HIR SPECIFICATION
OUTPUT: TERAS-LANG-HIR_v1.0.0.md
MINIMUM LINES: 3,000
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R21: HIGH-LEVEL IR

## PROTOCOL DECLARATION

EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY

## REQUIRED SECTIONS

1. HIR Design Goals (200+ lines)
   - Desugaring complete
   - Name resolution complete
   - Type information preserved
   - Security annotations preserved

2. HIR Node Types (800+ lines)
   - For each AST node category, define HIR equivalent
   - Document desugaring transformations
   - Preserve TERAS security constructs

3. Desugaring Transformations (600+ lines)
   - For loops â†’ loop + match
   - ? operator â†’ match
   - Closures â†’ struct + impl
   - Method calls â†’ function calls
   - Security constructs preservation

4. HIR Type Representation (400+ lines)
   - Fully resolved types
   - Generic instantiation
   - Effect and capability annotations

5. HIR Security Preservation (400+ lines)
   - Secret<T> lowering
   - Tainted<T> lowering
   - Effect tracking in HIR
   - Capability requirements

6. HIR Validation (300+ lines)
   - Well-formedness checks
   - Security invariant verification

7. Threat Analysis (200+ lines)
   - T1.* â€” memory safety preservation
   - T2.* â€” type safety preservation
   - T14.* â€” logic preservation

8. Anti-Hallucination Checklist (100+ lines)
```

---

## A-R22: MIDDLE-LEVEL IR (MIR) SPECIFICATION

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R22: MIR SPECIFICATION
OUTPUT: TERAS-LANG-MIR_v1.0.0.md
MINIMUM LINES: 3,500
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R22: MIDDLE-LEVEL IR

## PROTOCOL DECLARATION

EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY

## REQUIRED SECTIONS

1. MIR Design Goals (200+ lines)
   - Control flow explicit
   - Borrow checking possible
   - Optimization target
   - Platform independent

2. MIR Structure (600+ lines)
   - Basic blocks
   - Terminators (goto, switch, call, return, panic)
   - Statements
   - Places (lvalues)
   - Operands (rvalues)
   - Local variables

3. Control Flow Graph (400+ lines)
   - CFG construction from HIR
   - Dominator tree
   - Post-dominator tree
   - Loop detection

4. MIR Borrow Checking Integration (500+ lines)
   - Non-lexical lifetimes in MIR
   - Borrow regions
   - Move analysis
   - Drop elaboration

5. MIR Security Information (400+ lines)
   - Security label propagation
   - Effect tracking
   - Capability flow
   - Constant-time markers

6. MIR Optimizations (400+ lines)
   - Constant propagation
   - Dead code elimination
   - Inlining (security-aware)
   - Security-preserving transforms only

7. Side-Channel Mitigations (400+ lines)
   - T4.06 Timing Attack â€” constant-time verification
   - T4.07 Cache Timing â€” cache-oblivious transforms
   - Speculative execution barriers
   - Branch balance for secrets

8. Anti-Hallucination Checklist (100+ lines)
```

---

## A-R23: LOW-LEVEL IR (LIR) SPECIFICATION

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R23: LIR SPECIFICATION
OUTPUT: TERAS-LANG-LIR_v1.0.0.md
MINIMUM LINES: 3,000
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## A-R25: CODE GENERATION â€” x86-64

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R25: x86-64 CODE GENERATION
OUTPUT: TERAS-LANG-CODEGEN-X86_v1.0.0.md
MINIMUM LINES: 4,000
CRITICAL THREAT FOCUS: T4.13, T4.14 (Spectre/Meltdown), T12.*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R25: x86-64 CODE GENERATION

## PROTOCOL DECLARATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY                                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  x86-64 CODE GENERATION â€” WHERE SECURITY MEETS THE METAL                                                      â•‘
â•‘                                                                                                               â•‘
â•‘  This is the most security-critical code generation target.                                                   â•‘
â•‘  Spectre, Meltdown, and other microarchitectural attacks are real.                                            â•‘
â•‘  Every instruction must be considered for side-channel leakage.                                               â•‘
â•‘                                                                                                               â•‘
â•‘  THREAT FOCUS:                                                                                                â•‘
â•‘  â€¢ T4.13 Spectre (ALL variants)                                                                               â•‘
â•‘  â€¢ T4.14 Meltdown (ALL variants)                                                                              â•‘
â•‘  â€¢ T4.15 MDS (Microarchitectural Data Sampling)                                                               â•‘
â•‘  â€¢ T4.06 Timing Attack                                                                                        â•‘
â•‘  â€¢ T4.07 Cache Timing Attack                                                                                  â•‘
â•‘  â€¢ T12.02 Rowhammer                                                                                           â•‘
â•‘  â€¢ T12.04 Fault Injection                                                                                     â•‘
â•‘                                                                                                               â•‘
â•‘  MINIMUM LINES: 4,000                                                                                         â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## REQUIRED SECTIONS

### SECTION 1: x86-64 Architecture Model (400+ lines)

```
1.1 Register Set
    - General purpose: RAX-R15
    - SIMD: XMM0-XMM15, YMM0-YMM15, ZMM0-ZMM31
    - Special: RIP, RSP, RBP, RFLAGS

1.2 Calling Conventions
    - System V AMD64 ABI
    - Microsoft x64 ABI
    - TERAS-specific conventions

1.3 Memory Model
    - Virtual memory layout
    - Stack layout
    - Heap considerations
```

### SECTION 2: Instruction Selection (600+ lines)

```
2.1 LIR to x86-64 Mapping
    - For each LIR operation, specify x86-64 instruction(s)
    - Multiple options for optimization
    - Security-preferred options

2.2 Addressing Modes
    - Register
    - Immediate
    - Memory (various forms)
    - RIP-relative
```

### SECTION 3: Register Allocation (500+ lines)

```
3.1 Linear Scan Allocation
3.2 Spilling Strategy
3.3 Callee-saved handling
3.4 Security considerations (secrets in registers)
```

### SECTION 4: Spectre Mitigations (600+ lines)

```
4.1 Spectre-v1 (Bounds Check Bypass)
    - LFENCE after bounds checks
    - Index masking
    - Speculative load hardening (SLH)
    
4.2 Spectre-v2 (Branch Target Injection)
    - Retpoline
    - IBRS/STIBP
    - Enhanced IBRS
    
4.3 Spectre-v4 (Speculative Store Bypass)
    - SSBD
    - Store-load barriers

4.4 Other Variants
    - Spectre-RSB
    - SpectreNG
    - Document ALL known variants and mitigations
```

### SECTION 5: Meltdown Mitigations (400+ lines)

```
5.1 KPTI considerations (kernel interaction)
5.2 L1TF mitigations
5.3 MDS mitigations (VERW)
5.4 TAA mitigations
```

### SECTION 6: Constant-Time Code Generation (500+ lines)

```
6.1 Identifying Secret-Dependent Operations
    - Secret<T> tracking to code generation
    
6.2 Branch-Free Implementations
    - cmov instead of branch
    - Bitwise selection
    
6.3 Memory Access Patterns
    - Constant stride
    - Full cache line access
    - Scatter/gather avoidance
    
6.4 Timing-Safe Comparison
    - XOR + OR reduction
    - No early exit
```

### SECTION 7: Stack Protection (300+ lines)

```
7.1 Stack Canaries
7.2 Shadow Stack (CET)
7.3 Stack Clash Protection
7.4 Safe Stack
```

### SECTION 8: Control Flow Integrity (300+ lines)

```
8.1 Forward-edge CFI (CET IBT)
8.2 Backward-edge CFI (CET SHSTK)
8.3 Fine-grained CFI implementation
```

### SECTION 9: Threat Elimination Verification (200+ lines)

```
For each threat, document:
- Mitigation mechanism
- Code generation pattern
- Verification method
- Residual risk (if any)
```

### SECTION 10: Anti-Hallucination Checklist (100+ lines)
```

---

## A-R33: SOUNDNESS PROOF PART 1

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R33: SOUNDNESS PROOF PART 1
OUTPUT: TERAS-LANG-SOUNDNESS-1_v1.0.0.md
MINIMUM LINES: 3,500
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### FULL PROMPT

```markdown
# TERAS RESEARCH SESSION A-R33: SOUNDNESS PROOF PART 1

## PROTOCOL DECLARATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  THIS IS THE PROOF THAT TERAS ELIMINATES THREATS BY CONSTRUCTION                                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                               â•‘
â•‘  Type soundness proves that well-typed programs do not exhibit certain behaviors.                             â•‘
â•‘  For TERAS, we prove:                                                                                         â•‘
â•‘    1. Memory safety (no invalid memory access)                                                                â•‘
â•‘    2. Type safety (no type confusion)                                                                         â•‘
â•‘    3. Information flow safety (no unauthorized disclosure)                                                    â•‘
â•‘    4. Capability safety (no unauthorized operations)                                                          â•‘
â•‘                                                                                                               â•‘
â•‘  Without these proofs, TERAS is just another language with claims.                                            â•‘
â•‘  WITH these proofs, TERAS has mathematical guarantees.                                                        â•‘
â•‘                                                                                                               â•‘
â•‘  MINIMUM LINES: 3,500                                                                                         â•‘
â•‘                                                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## REQUIRED SECTIONS

### SECTION 1: Formal Language Definition (500+ lines)

```
1.1 Syntax (from grammar specs)
1.2 Typing Rules (from BTCS/UTCS)
1.3 Operational Semantics (small-step)
1.4 Security Semantics (label propagation)
```

### SECTION 2: Progress Theorem (400+ lines)

```
THEOREM (Progress):
  If âˆ… âŠ¢ e : Ï„, then either:
  - e is a value, or
  - e â†’ e' for some e'

PROOF: By induction on typing derivation.
[Complete proof for all expression forms]
```

### SECTION 3: Preservation Theorem (500+ lines)

```
THEOREM (Preservation):
  If Î“ âŠ¢ e : Ï„ and e â†’ e', then Î“ âŠ¢ e' : Ï„

PROOF: By induction on typing derivation.
[Complete proof for all reduction rules]
```

### SECTION 4: Memory Safety Theorem (500+ lines)

```
THEOREM (Memory Safety):
  If âˆ… âŠ¢ e : Ï„ and e â†’* v, then:
  - No use-after-free occurred during reduction
  - No buffer overflow occurred
  - No null pointer dereference occurred
  - No data race occurred

PROOF: By induction using ownership invariants.
```

### SECTION 5: Type Safety Theorem (400+ lines)

```
THEOREM (Type Safety):
  Well-typed programs cannot get stuck due to type errors.
  
Corollary: No type confusion vulnerabilities (T2.01-T2.10)
```

### SECTION 6: Noninterference Theorem (500+ lines)

```
THEOREM (Noninterference):
  If Î“ âŠ¢ e : Ï„ where Ï„ has security label L,
  and e â†’* v1 under environment Ïƒ1,
  and e â†’* v2 under environment Ïƒ2,
  where Ïƒ1 and Ïƒ2 agree on all variables with label âŠ‘ L,
  then v1 = v2 (observable equivalence)

PROOF: By logical relations.

Corollary: No information flow violations (T4.16-T4.17)
```

### SECTION 7: Capability Safety Theorem (400+ lines)

```
THEOREM (Capability Safety):
  If âˆ… âŠ¢ e : Ï„ and e requires capability C during execution,
  then C was provided at program entry or created by a
  capability with appropriate authority.

PROOF: By tracking capability provenance.

Corollary: No authorization bypass (T5.01-T5.04)
```

### SECTION 8: Anti-Hallucination Checklist (100+ lines)
```

---

## A-R35: MEMORY SAFETY PROOF

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R35: MEMORY SAFETY PROOF
OUTPUT: TERAS-LANG-MEMORY-PROOF_v1.0.0.md
MINIMUM LINES: 3,000
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROOF REQUIREMENTS

```
This document must prove elimination of ALL T1.* threats:

T1.01 Buffer Overflow (Stack)    â€” Proven by bounds checking + ownership
T1.02 Buffer Overflow (Heap)     â€” Proven by bounds checking + ownership
T1.03 Buffer Underflow           â€” Proven by unsigned indexing
T1.04 Use-After-Free             â€” Proven by lifetime system
T1.05 Double-Free                â€” Proven by single ownership
T1.06 Null Pointer Dereference   â€” Proven by non-null references
T1.07 Dangling Pointer           â€” Proven by lifetime system
T1.08 Wild Pointer               â€” Proven by initialization requirements
T1.09 Memory Leak                â€” Noted: not a safety issue, handled by RAII
T1.10 Stack Exhaustion           â€” Mitigated by recursion limits
T1.11 Heap Exhaustion            â€” Mitigated by allocation failure handling
T1.12 Out-of-Bounds Read         â€” Proven by bounds checking
T1.13 Out-of-Bounds Write        â€” Proven by bounds checking
T1.14 Uninitialized Memory Read  â€” Proven by initialization requirements
T1.15 Type Confusion (Memory)    â€” Proven by type system

Each proof must be FORMAL with lemmas, theorems, and proof sketches.
```

---

## A-R36: INFORMATION FLOW PROOF

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHAT A-R36: INFORMATION FLOW PROOF
OUTPUT: TERAS-LANG-INFOFLOW-PROOF_v1.0.0.md
MINIMUM LINES: 3,000
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### PROOF REQUIREMENTS

```
This document must prove elimination of ALL T4.* information disclosure threats:

T4.01-T4.05: Secret in [Logs/Errors/URLs/Source/Memory]
  â€” Proven by Secret<T> lacking Display/Debug/ToString

T4.06-T4.18: Side-channel attacks
  â€” Proven by constant-time guarantees for Secret<T> operations
  â€” Note: Some require runtime/hardware cooperation

T4.16 Information Flow Violation
  â€” Proven by noninterference theorem

T4.17 Covert Channel
  â€” Analyzed and mitigated (cannot fully eliminate)

Each proof must demonstrate that the type system + runtime
cooperation achieves the security property.
```


---

# SECTION 16: BOOTSTRAP CHAIN INTEGRATION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                                                  â•‘
â•‘                               BOOTSTRAP CHAIN INTEGRATION                                                        â•‘
â•‘                                                                                                                  â•‘
â•‘  Phase A specifications MUST be designed with bootstrap chain compatibility in mind.                             â•‘
â•‘  The Bootstrap Chain (67 chats) will implement TERAS-LANG from human-auditable hex.                              â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 16.1 Bootstrap Chain Overview

```
BOOTSTRAP STAGES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Stage 0: TERAS-HEX (~500 bytes, hand-auditable)
  â†“
Stage 1: TERAS-ASM (minimal assembler)
  â†“
Stage 2: TERAS-PROTO (prototype high-level language, subset of TERAS-LANG)
  â†“
Stage 3: terasc-proto (prototype compiler written in TERAS-PROTO)
  â†“
Stage 4: terasc (full TERAS-LANG compiler, self-hosting)
```

## 16.2 Phase A Requirements for Bootstrap

Every Phase A specification MUST include:

```
BOOTSTRAP COMPATIBILITY SECTION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. MINIMAL SUBSET IDENTIFICATION
   - Which features are in TERAS-PROTO (minimal subset)?
   - Which features require full TERAS-LANG?
   
2. LAYERED COMPLEXITY
   - Can this feature be implemented incrementally?
   - What is the minimal viable version for Stage 2/3?
   
3. SELF-HOSTING REQUIREMENTS
   - What is needed to compile this feature?
   - Can terasc compile this feature using itself?
   
4. VERIFICATION HOOKS
   - What can be verified at each bootstrap stage?
   - How does DDC (Diverse Double-Compilation) apply?
```

## 16.3 TERAS-PROTO Subset Definition

```
TERAS-PROTO INCLUDES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- Primitive types (integers, bool, unit)
- Tuples and arrays
- References (shared and mutable)
- Functions (no closures)
- Structs and enums
- Basic pattern matching
- let bindings
- if/else
- loop/while/for
- Basic traits (Copy, Clone, Drop, Sized)
- Modules (basic)
- Result and Option

TERAS-PROTO EXCLUDES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- Closures (complex capture semantics)
- Async/await (requires runtime)
- GATs (complex type system)
- Effect system (requires terasc)
- Security types (requires terasc)
- Session types (requires terasc)
- Macros (requires full compiler)
```

## 16.4 Bootstrap-Aware Specification Template

Every specification document SHOULD include:

```markdown
## BOOTSTRAP COMPATIBILITY

### TERAS-PROTO Coverage

| Feature | TERAS-PROTO | Full TERAS-LANG | Notes |
|---------|-------------|-----------------|-------|
| [feature] | âœ…/âŒ | âœ… | [notes] |

### Minimal Implementation Path

[Describe how this feature can be implemented in stages]

### DDC Verification Points

[Describe what can be verified via Diverse Double-Compilation]
```

---

# SECTION 17: VALIDATION PROTOCOL

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                          VALIDATION PROTOCOL                                                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  Every validation chat (A-V01 through A-V10) MUST follow this protocol.                                          â•‘
â•‘  NO PROGRESSION TO NEXT WAVE WITHOUT VALIDATION PASS.                                                            â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 17.1 Validation Chat Structure

```
VALIDATION CHAT TEMPLATE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. PREREQUISITE HASH VERIFICATION
   - List all input documents
   - Verify each hash
   - ABORT if any mismatch

2. COMPLETENESS CHECK
   - Every required section present
   - Minimum line counts met
   - No TBD/TODO/FIXME

3. CONSISTENCY CHECK
   - No contradictory definitions
   - Cross-references valid
   - Terminology consistent

4. INTEGRATION CHECK
   - Specifications align with each other
   - Grammar â†’ AST â†’ Type â†’ IR chain consistent
   - Security features maintained through pipeline

5. THREAT CHECK
   - All claimed threat eliminations verified
   - Each threat has documented mechanism
   - No gaps in coverage

6. DECISION LOG
   - Any design decisions made during validation
   - Rationale for each decision
   - Impact on subsequent specifications

7. VERDICT
   - PASS: All checks successful, proceed to next wave
   - CONDITIONAL PASS: Minor issues, document for repair
   - FAIL: Major issues, STOP and repair before proceeding
```

## 17.2 Validation Gate Requirements

```
A-V01 (Grammar): 312 production rules verified
A-V02 (Types): CTSS + LATS alignment verified
A-V03 (Effects): Effect + Security integration verified
A-V04 (Memory): Module + Memory model verified
A-V05 (Checking): BTCS + UTCS verified
A-V06 (IR): HIR â†’ MIR â†’ LIR chain verified
A-V07 (Codegen): All 4 targets verified
A-V08 (Semantics): Optimization safety verified
A-V09 (Proofs): Soundness theorems verified
A-V10 (Stdlib): Standard library completeness verified
```

## 17.3 Integration Chat Requirements

```
A-INT1 (Type System):
  - Type system fully integrated
  - Ready for IR transformation specifications
  
A-INT2 (Complete):
  - ALL 40 research documents integrated
  - Phase A complete
  - Ready for Phase B (Cryptography)
```

---

# SECTION 18: HASH CHAIN MANAGEMENT

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                        HASH CHAIN MANAGEMENT                                                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  ZERO TRUST: Every document hash is verified. Every prerequisite is checked.                                     â•‘
â•‘  This is NOT optional. This is the ONLY way to ensure specification integrity.                                   â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 18.1 Hash Computation

```
HASH ALGORITHM: SHA-256

HASH SCOPE: Entire document content EXCEPT the output hash line itself

HASH FORMAT: 64 lowercase hexadecimal characters

VERIFICATION: Before using a prerequisite document:
  1. Read document from project knowledge
  2. Compute SHA-256 of content
  3. Compare to expected hash
  4. If mismatch: STOP, do NOT proceed
```

## 18.2 Chain Update Protocol

```
AFTER COMPLETING EACH CHAT:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Claude outputs hash at end of document

2. User copies hash to TERAS_HASH_CHAIN.md:
   | A-R06 | 2026-01-02 | TERAS-LANG-CTSS-UPDATE-1_v1.0.0.md | [hash] | âœ… |

3. User saves document to project knowledge

4. User updates TERAS_PROGRESS.md

5. User proceeds to next chat, inserting hash where marked:
   PREREQUISITE: A-R06 (hash: [paste hash here])
```

## 18.3 Chain Integrity Verification

```
PERIODIC VERIFICATION:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

At validation gates (A-V01 through A-V10), verify ENTIRE chain:

1. Retrieve all documents in chain
2. Recompute all hashes
3. Compare to recorded hashes
4. Report any discrepancies

This detects:
- Accidental document modification
- Project knowledge corruption
- Unauthorized changes
```

## 18.4 Current Chain Status

```
VERIFIED HASH CHAIN â€” Phase A (as of 2026-01-02):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

A-R01: 927a2e550347157e4151014ca9cc30958c6d0c4fe1c38228f0928ad806d287f3 âœ…
A-R02: 71f24db06dc0d17ee65e45cc0d37606f9059cfea313ec4e0a5de3f47fdb0b6e3 âœ…
A-R03: ffbfa0a2c8780b67c01e2985652fe54dcde611f5798c58bfcc9df9855e2d55ab âœ…
A-R04: cef4c4d368d5391704e6795bcdb11af279d71c5044ca785821229eee0e488eb3 âœ…
A-V01: bba910a677cd373fce5523a82c44facb41fedd90293ac71e62de2a3b5c4c2d56 âœ…
A-R05: 179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0 âœ…
A-R06: [PENDING]
...
```

---

# SECTION 19: COMPLETE THREAT ELIMINATION SUMMARY

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                                                  â•‘
â•‘                              COMPLETE THREAT ELIMINATION SUMMARY                                                 â•‘
â•‘                                                                                                                  â•‘
â•‘  This section documents which specifications eliminate which threats.                                            â•‘
â•‘  At the completion of Phase A, ALL threats should be addressed.                                                  â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 19.1 Memory Safety (T1.01-T1.15) â€” ELIMINATED

```
SPECIFICATION: A-R08, A-R09 (LATS), A-R15, A-R16 (Memory Model), A-R35 (Proof)

MECHANISM:
- Ownership system (single owner, no aliasing XOR mutability)
- Lifetime system (no dangling references)
- Bounds checking (all array/slice access)
- Initialization requirements (no uninitialized reads)

VERIFICATION: Soundness proof in A-R35
```

## 19.2 Type Safety (T2.01-T2.10) â€” ELIMINATED

```
SPECIFICATION: A-R06, A-R07 (CTSS), A-R33, A-R34 (Proofs)

MECHANISM:
- Strong static typing
- No unsafe casts (only safe conversions)
- Variance checking
- Trait coherence

VERIFICATION: Type soundness proof in A-R33, A-R34
```

## 19.3 Injection Attacks (T3.01-T3.15) â€” ELIMINATED

```
SPECIFICATION: A-R07 (Tainted/Sanitized types), A-R10, A-R11 (Effects)

MECHANISM:
- Tainted<T> marks all external input
- Tainted data cannot be used in dangerous operations
- Sanitized<T> requires validation before use
- Effect system gates dangerous operations

VERIFICATION: Information flow proof in A-R36
```

## 19.4 Information Disclosure (T4.01-T4.18) â€” ELIMINATED/MITIGATED

```
SPECIFICATION: A-R07 (Secret/Labeled), A-R12, A-R13 (Security Labels), A-R22 (MIR), A-R25-28 (Codegen)

MECHANISM:
- Secret<T> prevents accidental disclosure
- Labeled<T, L> tracks information flow
- Constant-time code generation
- Side-channel mitigations in code generation

VERIFICATION: Noninterference proof in A-R36

NOTE: Some side-channel mitigations require runtime/hardware cooperation
```

## 19.5 Authentication/Authorization (T5.01-T5.15) â€” ELIMINATED

```
SPECIFICATION: A-R07 (Capability types), A-R10, A-R11 (Effects)

MECHANISM:
- Capability<P> cannot be forged
- Capabilities required for privileged operations
- Effect system gates capability-requiring operations
- Audit logging for all sensitive operations

VERIFICATION: Capability safety proof in A-R33
```

## 19.6 Cryptographic Weaknesses (T6.01-T6.15) â€” MITIGATED

```
SPECIFICATION: A-R07 (crypto effect), A-R37-39 (Stdlib)

MECHANISM:
- Only approved algorithms in stdlib
- Crypto operations require crypto effect
- Key management via capability system
- Crypto agility for algorithm migration

NOTE: Actual crypto implementation in Phase B (Cryptography)
```

## 19.7 Concurrency Threats (T7.01-T7.10) â€” ELIMINATED

```
SPECIFICATION: A-R08, A-R09 (LATS), A-R16 (Memory Model)

MECHANISM:
- Ownership prevents data races
- Send/Sync traits for thread safety
- Atomic operations for shared state
- No implicit sharing

VERIFICATION: Race freedom follows from ownership model
```

## 19.8 Integer/Arithmetic (T8.01-T8.10) â€” MITIGATED

```
SPECIFICATION: A-R06 (Primitive types)

MECHANISM:
- Checked arithmetic by default (panic on overflow)
- Wrapping/saturating explicit operations
- No implicit truncation
- Explicit type conversions only
```

## 19.9 Supply Chain (T9.01-T9.10) â€” MITIGATED

```
SPECIFICATION: Bootstrap Chain (67 chats)

MECHANISM:
- Bootstrap from human-auditable hex
- Diverse Double-Compilation (DDC)
- Zero external dependencies
- Reproducible builds
- Binary transparency

NOTE: Full mitigation requires complete Bootstrap Chain implementation
```

## 19.10 Denial of Service (T10.01-T10.12) â€” MITIGATED

```
SPECIFICATION: A-R01 (Lexer), A-R37-39 (Stdlib)

MECHANISM:
- Resource quotas in capability system
- Algorithmic complexity limits
- No ReDoS (no unbounded regex)
- Rate limiting support in stdlib
```

## 19.11 Protocol Threats (T11.01-T11.10) â€” ELIMINATED

```
SPECIFICATION: A-R07 (Session types)

MECHANISM:
- Session types encode protocol state machines
- Protocol violations are type errors
- Duality checking ensures client/server compatibility

VERIFICATION: Session type soundness in A-R33
```

## 19.12 Hardware/Physical (T12.01-T12.10) â€” MITIGATED

```
SPECIFICATION: A-R25-28 (Codegen)

MECHANISM:
- Spectre/Meltdown mitigations
- Cache partitioning for crypto
- Speculation barriers
- CFI (Control Flow Integrity)

NOTE: Full mitigation requires hardware support
```

## 19.13 AI/ML Threats (T13.01-T13.10) â€” NOT ADDRESSED IN PHASE A

```
NOTE: AI/ML threats addressed in:
- Phase D: Products (TERAS-AKAL ML engine)
- Gap Elimination: E-GAP08 (AI/ML Security)
```

## 19.14 Logic/Design Threats (T14.01-T14.10) â€” MITIGATED

```
SPECIFICATION: A-R33, A-R34 (Soundness), A-R31, A-R32 (Semantics)

MECHANISM:
- Effect system prevents unauthorized operations
- Capability system enforces invariants
- Formal semantics enable verification
- Property-based testing support

NOTE: Cannot fully eliminate logic errors, but provide verification tools
```

---

# SECTION 20: DOCUMENT COMPLETION

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                                                  â•‘
â•‘                         TERAS PHASE A: ALL 52 PROMPTS â€” DOCUMENT COMPLETE                                        â•‘
â•‘                                                                                                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                                                  â•‘
â•‘  VERSION:       2.0.0                                                                                            â•‘
â•‘  DATE:          2026-01-02                                                                                       â•‘
â•‘  TOTAL CHATS:   52 (Phase A) + 67 (Bootstrap) + 18 (Gap) = 137 security-related                                  â•‘
â•‘                 232 total across all phases                                                                      â•‘
â•‘                                                                                                                  â•‘
â•‘  PROTOCOL:      EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY                                        â•‘
â•‘                                                                                                                  â•‘
â•‘  THREAT COVERAGE:                                                                                                â•‘
â•‘    - T1.*  Memory Safety:       ELIMINATED (14/14)                                                               â•‘
â•‘    - T2.*  Type Safety:         ELIMINATED (10/10)                                                               â•‘
â•‘    - T3.*  Injection:           ELIMINATED (15/15)                                                               â•‘
â•‘    - T4.*  Info Disclosure:     ELIMINATED/MITIGATED (18/18)                                                     â•‘
â•‘    - T5.*  AuthN/AuthZ:         ELIMINATED (15/15)                                                               â•‘
â•‘    - T6.*  Cryptographic:       MITIGATED (15/15)                                                                â•‘
â•‘    - T7.*  Concurrency:         ELIMINATED (10/10)                                                               â•‘
â•‘    - T8.*  Integer/Arithmetic:  MITIGATED (10/10)                                                                â•‘
â•‘    - T9.*  Supply Chain:        MITIGATED (10/10)                                                                â•‘
â•‘    - T10.* DoS:                 MITIGATED (12/12)                                                                 â•‘
â•‘    - T11.* Protocol:            ELIMINATED (10/10)                                                               â•‘
â•‘    - T12.* Hardware/Physical:   MITIGATED (10/10)                                                                â•‘
â•‘    - T13.* AI/ML:               ADDRESSED IN OTHER PHASES (10/10)                                                â•‘
â•‘    - T14.* Logic/Design:        MITIGATED (10/10)                                                                â•‘
â•‘                                                                                                                  â•‘
â•‘  TOTAL THREATS: 159/159 ADDRESSED                                                                                â•‘
â•‘                                                                                                                  â•‘
â•‘  STATUS: READY FOR EXECUTION                                                                                     â•‘
â•‘                                                                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Wave Summary

```
WAVE 1 (Foundation):           A-R01 âœ… A-R02 âœ… A-R03 âœ… A-R04 âœ… A-V01 âœ… A-R05 âœ…   (6 complete)
WAVE 2 (Type System):          A-R06 â¬œ A-R07 â¬œ A-R08 â¬œ A-R09 â¬œ A-V02 â¬œ          (0 complete)
WAVE 3 (Effects & Security):   A-R10 â¬œ A-R11 â¬œ A-R12 â¬œ A-R13 â¬œ A-V03 â¬œ          (0 complete)
WAVE 4 (Modules & Memory):     A-R14 â¬œ A-R15 â¬œ A-R16 â¬œ A-V04 â¬œ                  (0 complete)
WAVE 5 (Type Checking):        A-R17 â¬œ A-R18 â¬œ A-R19 â¬œ A-R20 â¬œ A-V05 â¬œ A-INT1 â¬œ (0 complete)
WAVE 6 (IR):                   A-R21 â¬œ A-R22 â¬œ A-R23 â¬œ A-R24 â¬œ A-V06 â¬œ          (0 complete)
WAVE 7 (Code Generation):      A-R25 â¬œ A-R26 â¬œ A-R27 â¬œ A-R28 â¬œ A-V07 â¬œ          (0 complete)
WAVE 8 (Optimization):         A-R29 â¬œ A-R30 â¬œ A-R31 â¬œ A-R32 â¬œ A-V08 â¬œ          (0 complete)
WAVE 9 (Proofs):               A-R33 â¬œ A-R34 â¬œ A-R35 â¬œ A-R36 â¬œ A-V09 â¬œ          (0 complete)
WAVE 10 (Stdlib & FFI):        A-R37 â¬œ A-R38 â¬œ A-R39 â¬œ A-R40 â¬œ A-V10 â¬œ A-INT2 â¬œ (0 complete)

TOTAL: 6/52 complete (11.5%)
```

## Next Immediate Action

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
NEXT CHAT: A-R06 (CTSS Update Part 1)

PREREQUISITE HASH: 179d1d91d14836a6498abc0c8a2c8c7a538e1e5a63e5cc8c6f9a8d0ecb26b3f0 (A-R05)

PARALLEL OPTION: A-R08 (LATS Update Part 1) can run simultaneously

TO EXECUTE:
1. Copy A-R06 prompt from Section 7 of this document
2. Paste into new Claude chat
3. Wait for completion
4. Record hash in TERAS_HASH_CHAIN.md
5. Proceed to A-R07 or A-R08
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# END OF DOCUMENT

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DOCUMENT: TERAS_PHASE_A_ALL_PROMPTS_v2_0_0.md
VERSION: 2.0.0
DATE: 2026-01-02
PURPOSE: Complete prompt library for TERAS-LANG Phase A specification
PROTOCOL: EXTREME KIASU | EXTREME PARANOID | ZERO TRUST | ZERO LAZY
THREAT COVERAGE: 159/159 threat categories addressed
STATUS: READY FOR EXECUTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

